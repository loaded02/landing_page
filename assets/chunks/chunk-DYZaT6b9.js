function ee(){return typeof window<"u"&&typeof window.scrollY=="number"}function je(e){return Array.from(new Set(e))}function V(e,t){const n=Zr();return n[e]??(n[e]=t)}function Zr(){var e;return globalThis._vike??(globalThis._vike={}),(e=globalThis._vike).globals??(e.globals={}),globalThis._vike.globals}const m=new Proxy({},{get:(e,t)=>n=>t==="code"?`\`${n}\``:t==="string"?`'${n}'`:n}),kn="0.4.252";let ge;ge??(ge=Rn());function Rn(){return V("utils/assertSingleInstance.ts",{instances:[],alreadyLogged:new Set})}function De(){return ge??(ge=Rn()),ge}const Qr="Client runtime of both Server Routing and Client Routing loaded https://vike.dev/client-runtimes-conflict",On="Client runtime loaded twice https://vike.dev/client-runtime-duplicated";function En(){const e=De();{const t=je(e.instances);$e(t.length<=1,`vike@${m.bold(t[0])} and vike@${m.bold(t[1])} loaded which is highly discouraged, see ${m.underline("https://vike.dev/warning/version-mismatch")}`,{onlyOnce:!0,showStackTrace:!1})}e.checkSingleInstance&&e.instances.length>1&&$e(!1,On,{onlyOnce:!0,showStackTrace:!0})}function Ll(e){const t=De();$e(t.isClientRouting!==!1,Qr,{onlyOnce:!0,showStackTrace:!0}),$e(t.isClientRouting===void 0,On,{onlyOnce:!0,showStackTrace:!0}),t.isClientRouting=!0,t.checkSingleInstance=!0,En()}function Xr(){De().instances.push(kn),En()}function $e(e,t,{onlyOnce:n,showStackTrace:r}){const i=De();if(e)return;const s=`[Vike][Warning] ${t}`;{const{alreadyLogged:o}=i,a=s;if(o.has(a))return;o.add(a)}console.warn(r?new Error(s):s)}function ei(){return!(typeof process>"u"||!process.cwd||!process.versions||typeof process.versions.node>"u"||!process.release||process.release.name!=="node")}function ti(e,t){const n=new Error(e);return ei()&&(n.stack=ni(n.stack,t)),n}function ni(e,t){if(!e)return e;const n=ii(e);let r=0;return n.filter(s=>s.includes(" (internal/")||s.includes(" (node:internal")?!1:r<t&&ri(s)?(r++,!1):!0).join(`
`)}function ri(e){return e.startsWith("    at ")}function ii(e){return e.split(/\r?\n/)}function si(e){return m.bold(m.yellow(e))}function oi(e){return m.bold(m.red(e))}function ai(e){return m.yellow(e)}const D=V("utils/assert.ts",{alreadyLogged:new Set});Xr();const li="[vike]",ui=`[vike@${kn}]`,ci="Bug";function c(e,t){if(e)return;const n=(()=>{if(!t)return null;const o=typeof t=="string"?t:JSON.stringify(t);return m.dim(`Debug for maintainers (you can ignore this): ${o}`)})();let i=[`You stumbled upon a Vike bug. Go to ${m.underline("https://github.com/vikejs/vike/issues/new?template=bug.yml")} and copy-paste this error. A maintainer will fix the bug (usually within 24 hours).`,n].filter(Boolean).join(" ");i=Se(i,ci,!0);const s=He(i);throw D.onBeforeLog?.(),D.onBeforeErr?.(s),s}function b(e,t,{showStackTrace:n,exitOnError:r}={}){if(e)return;n=n||D.alwaysShowStackTrace,t=Se(t,"Wrong Usage");const i=He(t);if(D.onBeforeLog?.(),D.onBeforeErr?.(i),r)console.error(n?i:t),process.exit(1);else throw i}function $n(e){return e=Se(e,"Error"),He(e)}function L(e,t,{onlyOnce:n,showStackTrace:r}){if(e)return;if(r=r||D.alwaysShowStackTrace,n){const{alreadyLogged:s}=D,o=n===!0?t:n;if(s.has(o))return;s.add(o)}const i=Se(t,"Warning");if(D.onBeforeLog?.(),r){const s=He(i);D.onBeforeErr?.(s),console.warn(s)}else console.warn(i)}function fi(e,t,{onlyOnce:n}){t=Se(t,null);{const{alreadyLogged:r}=D,i=t;if(r.has(i))return;r.add(i)}D.onBeforeLog?.(),console.log(t)}function Se(e,t,n=!1){const r=gi(n),i=hi(t),s=di(e);return D.addAssertTagsDev?`${D.addAssertTagsDev(r,i)}${s}${e}`:`${`${r}${i}`}${s}${e}`}function di(e){return e.startsWith("[")?"":" "}function hi(e){if(!e)return"";let t=`[${e}]`;return e==="Warning"?t=ai(t):t=oi(t),t}function gi(e=!1){return si(e?ui:li)}function He(e){const t=ti(e,3);return D.addAssertTagsDev&&(t.stack=t.stack?.replace(/^Error:\s*/,"")),t}function pi(){c(ee())}mi();function mi(){pi()}function Te(e){const t=e/1e3;if(t<120){const n=jt(t);return`${n} second${Dt(n)}`}{const n=t/60,r=jt(n);return`${r} minute${Dt(r)}`}}function jt(e){let t=e.toFixed(1);return t.endsWith(".0")&&(t=t.slice(0,-2)),t}function Dt(e){return e==="1"?"":"s"}function F(e){return typeof e=="object"&&e!==null}function M(e){return Array.isArray(e)}function Tn(e,t){const n=t.find(r=>r.pageId===e);return c(t.length>0),c(n),n}function Ln(e){if(!e||M(e)||e.definedBy)return null;const{filePathToShowToUser:t}=e;return c(t),t}function In(e){const t=Ln(e);return c(t),t}function yi(e){return[null,void 0].includes(e)?String(e):["boolean","number","string"].includes(typeof e)?JSON.stringify(e):null}function bi(e,t){if(!e)return null;let[n,...r]=e;if(!n||r.length===0&&["*","default",t].includes(n))return null;c(n!=="*");let i="",s="";return n==="default"?i="export default":(i="export",r=[n,...r]),r.forEach(a=>{i=`${i} { ${a}`,s=` }${s}`}),i+s}function wi(e,t,n){return`${Ye(e,t)} at ${ie(n,t)}`}function An(e,t,n){return n?`${Ye(e,t)} at ${ie(n,t)}`:`${Ye(e,t)} internally`}function Ye(e,t){return`${e} ${m.cyan(t)} defined`}function ie(e,t){let n;return M(e)?n=e:n=[e],c(n.length>=1),n.map(i=>{if(i.definedBy)return xi(i,t);const{filePathToShowToUser:s,fileExportPathToShowToUser:o}=i,a=bi(o,t);return a?`${s} > ${m.cyan(a)}`:s}).join(" / ")}function xi(e,t){if(e.definedBy==="api")return`API call ${m.cyan(`${e.operation}({ vikeConfig: { ${t} } })`)}`;const{definedBy:n}=e;if(n==="cli")return`CLI option ${m.cyan(`--${t}`)}`;if(n==="env")return`environment variable ${m.cyan(`VIKE_CONFIG="{${t}}"`)}`;c(!1)}function Si(e,t,n){const{value:r,definedAtData:i}=e;return n&&Pi(r,n,t,i),e}function Pi(e,t,n,r){c(e!==null);const i=typeof e;if(i===t)return;const s=yi(e),o=s!==null?`value ${m.cyan(s)}`:`type ${m.cyan(i)}`,l=`${An("Config",n,r)} has an invalid ${o}: it should be a ${m.cyan(t)} instead`;b(!1,l)}function ae(e,t,n){const r=e.configValues[t];return r?Si(r,t,n):null}function q(e){return e instanceof Function||typeof e=="function"}const Ci=V("hooks/getHook.ts",{});function qe(e,t){if(!(t in e.exports))return null;const{hooksTimeout:n}=e.config,r=jn(n,t),i=e.exports[t];if(i===null)return null;const s=e.exportsAll[t][0];c(s.exportValue===i);const o=s.filePath;return c(o),Ne(i,t,o,r)}function Ze(e,t){const{hooksTimeout:n}=t.config,r=jn(n,e),i=[];return t.exportsAll[e]?.forEach(s=>{const o=s.exportValue;if(o===null)return;const a=s.filePath;c(a),i.push(Ne(o,e,a,r))}),i}function vi(e,t){const n=e.configValues[t];if(!n?.value)return null;const{hookFn:r,hookFilePath:i}=ki(n),s=_n(t);return Ne(r,t,i,s)}function Fn(e,t){const n=e.configValues[t];if(!n?.value)return[];const r=n.value;return c(M(r)),r.map((i,s)=>{const o=i,a=_n(t);c(M(n.definedAtData));const l=In(n.definedAtData[s]);return Ne(o,t,l,a)})}function _n(e){return Ve(e)}function Ne(e,t,n,r){return c(n),Ri(e,{hookName:t,hookFilePath:n}),{hookFn:e,hookName:t,hookFilePath:n,hookTimeout:r}}function ki(e){const t=e.value;c(t);const n=In(e.definedAtData);return{hookFn:t,hookFilePath:n}}function Ri(e,{hookName:t,hookFilePath:n}){c(t&&n),c(!t.endsWith(")")),c(!n.endsWith(" ")),b(q(e),`Hook ${t}() defined by ${n} should be a function`)}function jn(e,t){const n=Oi(e);if(n===!1)return{error:!1,warning:!1};const r=n[t],i=Ve(t);return r?.error!==void 0&&(i.error=r.error),r?.warning!==void 0&&(i.warning=r.warning),i}function Oi(e){if(e===void 0)return{};if(e===!1)return!1;b(F(e),`Setting ${m.cyan("hooksTimeout")} should be ${m.cyan("false")} or an object`);const t={};return Object.entries(e).forEach(([n,r])=>{if(r===!1){t[n]={error:!1,warning:!1};return}b(F(r),`Setting ${m.cyan(`hooksTimeout.${n}`)} should be ${m.cyan("false")} or an object`);const[i,s]=["error","warning"].map(o=>{const a=r[o];if(a===void 0||a===!1)return a;const l=`Setting ${m.cyan(`hooksTimeout.${n}.${o}`)} should be`;return b(typeof a=="number",`${l} ${m.cyan("false")} or a number`),b(a>0,`${l} a positive number`),a});t[n]={error:i,warning:s}}),t}function Ve(e){return e==="onBeforeRoute"?{error:5*1e3,warning:1*1e3}:Ci.isPrerendering?{error:120*1e3,warning:30*1e3}:(c(!e.toLowerCase().includes("prerender")),{error:30*1e3,warning:4*1e3})}function Ei(e,t){return e.toLowerCase()<t.toLowerCase()?-1:e.toLowerCase()>t.toLowerCase()?1:0}function $i(e,t){const n=Object.getOwnPropertyDescriptor(e,t);return!!n&&!("value"in n)&&!!n.get}function Ti(e){Li(e)}function Li(e){if(e.is404===void 0||e.is404===null)return;const t=e.pageProps||{};if(!F(t)){L(!1,"pageContext.pageProps should be an object",{showStackTrace:!0,onlyOnce:!0});return}t.is404=t.is404||e.is404,e.pageProps=t}const Ii="__VIKE__NOT_SERIALIZABLE__";function Ai(e){return typeof e=="string"&&Fi(e)?`.${e}`:`[${JSON.stringify(e)}]`}function Fi(e){return/^[a-z0-9\$_]+$/i.test(e)}function ft(e,t,n,r){return new Proxy(e,{get:(i,s)=>_i(s,e,t,n,r)})}function _i(e,...t){const[n,r,i,s]=t,o=String(e);if(e==="_isProxyObject")return!0;if(e==="dangerouslyUseInternals")return t[2]=!0,ft(...t);if(e==="_originalObject")return n;if(s&&!(e in n))return s(e);const a=n[e];return ji(o,a,r),a}function ji(e,t,n){if(t!==Ii)return;const r=Ai(e);c(ee()),b(!1,`Can't access ${n}${r} on the client side. Because it can't be serialized, see server logs.`)}function Dn(e){return c(e._isOriginalObject),ft(e,"globalContext")}function dt(e){c(!e._isProxyObject),c(!e.globalContext),c(e._isOriginalObject),Ti(e),"_pageId"in e||Object.defineProperty(e,"_pageId",{get(){return L(!1,"pageContext._pageId has been renamed to pageContext.pageId",{showStackTrace:!0,onlyOnce:!0}),e.pageId},enumerable:!1}),Di(e);const t=Dn(e._globalContext);return ft(e,"pageContext",!0,r=>{if(r==="globalContext")return t;if(r in t)return t[r]})}function Di(e){let t=Object.getOwnPropertyDescriptors(e);for(const n of Object.keys(e))delete e[n];t=Object.fromEntries(Object.entries(t).sort(([n],[r])=>Ei(n,r))),Object.defineProperties(e,t)}function Hn(e){["urlPathname","urlParsed","url","pageExports"].forEach(t=>{e.prop&&c($i(e,t))})}const Qe=V("utils/execHook.ts",{userHookErrors:new WeakMap,pageContext:null});async function ht(e,t,n){const r=Ze(e,t);return await Le(r,t,n)}async function Hi(e,t,n){const r=Fn(t._pageConfigGlobal,e),i=n(t);await Promise.all(r.map(async s=>{await Wn(()=>s.hookFn(i),s,t,null)}))}async function Le(e,t,n){if(!e.length)return[];const r=n(t);return await Promise.all(e.map(async s=>{const o=await Wn(()=>s.hookFn(r),s,t._globalContext,r);return{...s,hookReturn:o}}))}async function Nn(e,t,n){const r=await Le([e],t,n),{hookReturn:i}=r[0];b(i===void 0,`The ${e.hookName}() hook defined by ${e.hookFilePath} isn't allowed to return a value`)}function Vn(e,t,n,r,i){const s=n&&r(n);return i??(i=()=>e.hookFn(s)),{hookReturn:Bn(i,e,t,s)}}function Wn(e,t,n,r){const{hookName:i,hookFilePath:s,hookTimeout:{error:o,warning:a}}=t;let l,u;const f=new Promise((g,k)=>{l=v=>{d(),g(v)},u=v=>{d(),k(v)}}),d=()=>{h&&clearTimeout(h),p&&clearTimeout(p)},h=Ht(a)&&setTimeout(()=>{L(!1,`The ${i}() hook defined by ${s} is slow: it's taking more than ${Te(a)} (https://vike.dev/hooksTimeout)`,{onlyOnce:!1})},a),p=Ht(o)&&setTimeout(()=>{const g=$n(`The ${i}() hook defined by ${s} timed out: it didn't finish after ${Te(o)} (https://vike.dev/hooksTimeout)`);u(g)},o);return(async()=>{try{const g=await Bn(e,t,n,r);l(g)}catch(g){F(g)&&Qe.userHookErrors.set(g,{hookName:i,hookFilePath:s}),u(g)}})(),f}function Bn(e,t,n,r){const{hookName:i,hookFilePath:s}=t;c(i!=="onHookCall");const o=n._pageConfigGlobal.configValues.onHookCall,a=()=>(zn(r),e());if(!o?.value)return a();let l=!1,u,f,d=()=>{l=!0;try{u=a()}catch(h){throw f=h,h}return u};for(const h of o.value){const p={name:i,filePath:s,call:d};d=()=>((async()=>{try{await h(p,r)}catch(g){g!==f&&console.error(g)}})(),b(l,"onHookCall() must run hook.call()"),u)}if(d(),f)throw f;return u}function Ht(e){return!!e&&e!==1/0}function Il(e){zn(e)}function zn(e){Qe.pageContext=e,Promise.resolve().then(()=>{Qe.pageContext=null})}const de={},Nt=99,Vt=5*1e3;function Ni(e){const t=new Date().getTime();Object.keys(de).forEach(i=>{const s=de[i];t-s.startTime>Vt&&delete de[i]});const n=de[e]??(de[e]={count:0,startTime:t});n.count++;const r=`${e} called ${n.count} times within ${Te(Vt)} â€” infinite loop?`;n.count>Nt&&b(!1,r),!n.warned&&n.count>Nt*.5&&(L(!1,r,{onlyOnce:!1,showStackTrace:!0}),n.warned=!0)}const Vi=25*1e3;function gt({timeout:e=Vi}={}){let t,n,r=!1;const i=new Promise((l,u)=>{t=(...f)=>(r=!0,s(),l(...f)),n=(...f)=>(r=!0,s(),u(...f))}),s=()=>o.forEach(l=>clearTimeout(l)),o=[];let a;return e?a=new Proxy(i,{get(l,u){if(u==="then"&&!r){const d=new Error(`Promise hasn't resolved after ${Te(e)}`);o.push(setTimeout(()=>{c(d.stack),L(!1,Wi(d.stack),{onlyOnce:!1})},e))}const f=Reflect.get(l,u);return typeof f=="function"?f.bind(l):f}}):a=i,{promise:a,resolve:t,reject:n}}function Wi(e){const t="Error: ";return e.startsWith(t)&&(e=e.slice(t.length)),e}function Bi(e){return M(e)&&e.every(t=>typeof t=="string")}function zi(e){return F(e)&&Object.values(e).every(t=>typeof t=="string")}function P(e,t,n){if(!F(e))return!1;if(!(t in e))return n==="undefined";if(n===void 0)return!0;const r=e[t];return n==="undefined"?r===void 0:n==="array"?M(r):n==="object"?F(r):n==="string[]"?Bi(r):n==="string{}"?zi(r):n==="function"?q(r):M(n)?typeof r=="string"&&n.includes(r):n==="null"?r===null:n==="true"?r===!0:n==="false"?r===!1:typeof r===n}function Ui(){const e=!!window.__REACT_DEVTOOLS_GLOBAL_HOOK__?.renderers?.size,t=!!window.__REACT_DEVTOOLS_GLOBAL_HOOK__?.rendererInterfaces?.size,n=!!window.__vite_plugin_react_preamble_installed__;return e||t||n}function C(e,t,n){t&&(n||c(!t._isOriginalObject),Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)))}function J(e){window.location.href=e}function ne(e,t){c(e===t)}const Gi=[{is:e=>e===void 0,match:e=>e==="!undefined",serialize:()=>"!undefined",deserialize:()=>{}},{is:e=>e===1/0,match:e=>e==="!Infinity",serialize:()=>"!Infinity",deserialize:()=>1/0},{is:e=>e===-1/0,match:e=>e==="!-Infinity",serialize:()=>"!-Infinity",deserialize:()=>-1/0},{is:e=>typeof e=="number"&&isNaN(e),match:e=>e==="!NaN",serialize:()=>"!NaN",deserialize:()=>NaN},{is:e=>e instanceof Date,match:e=>e.startsWith("!Date:"),serialize:e=>"!Date:"+e.toISOString(),deserialize:e=>new Date(e.slice(6))},{is:e=>typeof e=="bigint",match:e=>e.startsWith("!BigInt:"),serialize:e=>"!BigInt:"+e.toString(),deserialize:e=>{if(typeof BigInt>"u")throw new Error("Your JavaScript environement does not support BigInt. Consider adding a polyfill.");return BigInt(e.slice(8))}},{is:e=>e instanceof RegExp,match:e=>e.startsWith("!RegExp:"),serialize:e=>"!RegExp:"+e.toString(),deserialize:e=>{e=e.slice(8);const t=e.match(/\/(.*)\/(.*)?/),n=t[1],r=t[2];return new RegExp(n,r)}},{is:e=>e instanceof Map,match:e=>e.startsWith("!Map:"),serialize:(e,t)=>"!Map:"+t(Array.from(e.entries())),deserialize:(e,t)=>new Map(t(e.slice(5)))},{is:e=>e instanceof Set,match:e=>e.startsWith("!Set:"),serialize:(e,t)=>"!Set:"+t(Array.from(e.values())),deserialize:(e,t)=>new Set(t(e.slice(5)))},{is:e=>typeof e=="string"&&e.startsWith("!"),match:e=>e.startsWith("!"),serialize:e=>"!"+e,deserialize:e=>e.slice(1)}];function pt(e,t={}){const n=JSON.parse(e);return mt(n,t)}function mt(e,t={}){return typeof e=="string"?Ki(e,t):(typeof e=="object"&&e!==null&&Object.entries(e).forEach(([n,r])=>{e[n]=mt(r,t)}),e)}function Ki(e,t){const n=r=>pt(r,t);{const r=t.reviver?.(void 0,e,n);if(r){if(typeof r.replacement!="string")return r.replacement;if(e=r.replacement,r.resolved)return e}}for(const{match:r,deserialize:i}of Gi)if(r(e))return i(e,n);return e}const Mi="vike_pageContext",Ji="vike_globalContext";function Yi(){const e=Un(Mi);return c(P(e,"pageId","string")),c(P(e,"routeParams","string{}")),e}function qi(){return Un(Ji)}function Un(e){const t=document.getElementById(e);b(t,`Couldn't find #${e} (which Vike automatically injects in the HTML): make sure it exists (i.e. don't remove it and make sure your HTML isn't malformed)`);const n=t.textContent;return c(n),pt(n,{reviver(i,s){if(typeof s=="string")return{replacement:s.replaceAll("\\/","/"),resolved:!1}}})}function Gn(e){return e==null}function Zi(e){return!Gn(e)}function Al(e){return!Gn(e[1])}function yt(e,t){return Mn(e,t,!0)}function Kn(e,t){return Mn(e,t,!1)}function Mn(e,t,n){const r=n?"CLIENT_ONLY":"SERVER_ONLY",i=e.filter(p=>p.isRelevant(t)&&p.fileType!==".page.route").sort(Qi(n,t)),s=p=>{const g=i.filter(v=>v.pageId===t&&v.isEnv(p?"CLIENT_AND_SERVER":r));b(g.length<=1,`Merge the following files into a single file: ${g.map(v=>v.filePath).join(" ")}`);const k=g[0];return c(k===void 0||!k.isDefaultPageFile),k},o=s(!1),a=s(!0),l=p=>i.filter(g=>g.isRendererPageFile&&g.isEnv(p?"CLIENT_AND_SERVER":r))[0],u=l(!1),f=l(!0),d=i.filter(p=>p.isDefaultPageFile&&!p.isRendererPageFile&&(p.isEnv(r)||p.isEnv("CLIENT_AND_SERVER")));return[o,a,...d,u,f].filter(Zi)}function Qi(e,t){const n=e?"CLIENT_ONLY":"SERVER_ONLY",r=-1,i=1,s=0;return(o,a)=>{if(!o.isDefaultPageFile&&a.isDefaultPageFile)return r;if(!a.isDefaultPageFile&&o.isDefaultPageFile)return i;{const l=o.isRendererPageFile,u=a.isRendererPageFile;if(!l&&u)return r;if(!u&&l)return i;c(l===u)}{const l=Wt(t,o.filePath),u=Wt(t,a.filePath);if(l<u)return r;if(u<l)return i;c(l===u)}{if(o.isEnv(n)&&a.isEnv("CLIENT_AND_SERVER"))return r;if(a.isEnv(n)&&o.isEnv("CLIENT_AND_SERVER"))return i}return s}}function Wt(e,t){let n=0;for(;n<e.length&&n<t.length&&e[n]===t[n];n++);const r=e.slice(n),i=t.slice(n),s=r.split("/").length,o=i.split("/").length;return s+o}async function Xi(e,t){const r=Kn(e,t).filter(s=>s.fileType===".page.server");return await Promise.all(r.map(async s=>{s.exportNames||(c(s.loadExportNames,t),await s.loadExportNames())})),{hasOnBeforeRenderServerSideOnlyHook:r.some(({exportNames:s})=>(c(s),s.includes("onBeforeRender")))}}const Bt=["urlPathname","urlParsed"],es=["Page","pageExports","exports"];function ts(e){[...es,...Bt].forEach(n=>{n in e&&(Bt.includes(n)?(c(n.startsWith("url")),L(!1,`pageContext.${n} is already available in the browser when using Client Routing; adding '${n}' to passToClient has no effect`,{onlyOnce:!0})):L(!1,`pageContext.${n} is a built-in that cannot be overridden; adding '${n}' to passToClient has no effect`,{onlyOnce:!0}),delete e[n])})}function Y(e,t,n){return typeof e=="string"?zt(e.split(""),t,n).join(""):zt(e,t,n)}function zt(e,t,n){const r=[];let i=t>=0?t:e.length+t;c(i>=0&&i<=e.length);let s=n>=0?n:e.length+n;for(c(s>=0&&s<=e.length);!(i===s||(i===e.length&&(i=0),i===s));){const o=e[i];c(o!==void 0),r.push(o),i++}return r}function We(e,t){c(Qn(e),e),c(t.startsWith("/"));const{hashString:n,withoutHash:r}=ns(e);c(n===null||n.startsWith("#"));const i=n===null?"":Jn(n.slice(1)),{searchString:s,withoutSearch:o}=Ut(r);c(s===null||s.startsWith("?"));let a="";if(s!==null)a=s;else if(e.startsWith("#")){const y=Yn();a=y&&Ut(y).searchString||""}const l={},u={};Array.from(new URLSearchParams(a)).forEach(([y,w])=>{l[y]=w,u[y]=[...u.hasOwnProperty(y)?u[y]:[],w]});let{protocol:f,origin:d,pathnameAbsoluteWithBase:h}=is(o,t);const p=o.slice((d||"").length);us(e,d,p,s,n);let{pathname:g,isBaseMissing:k}=ls(h,t);const v=Zn(d,g,s,n),j=d?d.slice(f.length):null,{hostname:I,port:H}=ss(j,e);return g=rs(g),c(g.startsWith("/")),{href:v,protocol:f,hostname:I,port:H,origin:d,pathname:g,pathnameOriginal:p,isBaseMissing:k,search:l,searchAll:u,searchOriginal:s,hash:i,hashOriginal:n}}function ns(e){const[t,...n]=e.split("#");return{hashString:["",...n].join("#")||null,withoutHash:t}}function Ut(e){const[t,...n]=e.split("?");return{searchString:["",...n].join("?")||null,withoutSearch:t}}function Jn(e){try{return decodeURIComponent(e)}catch{}try{return decodeURI(e)}catch{}return e}function rs(e){return e=e.replace(/\s+$/,""),e=e.split("/").map(t=>Jn(t).split("/").join("%2F")).join("/"),e}function is(e,t){c(!e.includes("?")&&!e.includes("#"));{const{protocol:n,origin:r,pathname:i}=Gt(e);if(r)return{protocol:n,origin:r,pathnameAbsoluteWithBase:i};c(i===e)}if(e.startsWith("/"))return{protocol:null,origin:null,pathnameAbsoluteWithBase:e};{const n=Yn();let r;return n?r=Gt(n.split("?")[0].split("#")[0]).pathname:r=t,{protocol:null,origin:null,pathnameAbsoluteWithBase:as(e,r)}}}function Yn(){return typeof window<"u"?window?.document?.baseURI:void 0}function Gt(e){if(nr(e)){const{protocol:t,uriWithoutProtocol:n}=qn(e);c(t);const[r,...i]=n.split("/"),s=t+r;return{pathname:"/"+i.join("/"),origin:s,protocol:t}}else return{pathname:e,origin:null,protocol:null}}function ss(e,t){const n={hostname:null,port:null};if(!e)return n;const r=e.split(":");if(r.length>1){const i=parseInt(r.pop(),10);c(i||i===0,t),n.port=i}return n.hostname=r.join(":"),n}function qn(e){const[n,...r]=e.split(":");if(r.length===0||!/^[a-z][a-z0-9\+\-]*$/i.test(n))return{protocol:null,uriWithoutProtocol:e};let i=n+":",s=r.join(":");const o="//";return s.startsWith(o)&&(i=i+o,s=s.slice(o.length)),{protocol:i,uriWithoutProtocol:s}}function os(e){return["ipfs://","ipns://"].includes(e)?!1:e.endsWith("://")}function as(e,t){const n=t.split("/"),r=e.split("/");let i=t.endsWith("/");e.startsWith(".")&&n.pop();for(const o in r){const a=r[o];a==""&&o==="0"||a!="."&&(a==".."?n.pop():(i=!1,n.push(a)))}let s=n.join("/");return i&&!s.endsWith("/")&&(s+="/"),s.startsWith("/")||(s="/"+s),s}function ls(e,t){c(e.startsWith("/")),c(bt(t));let n=e;if(c(n.startsWith("/")),c(t.startsWith("/")),t==="/")return{pathname:e,isBaseMissing:!1};let r=t;return t.endsWith("/")&&n===Y(t,0,-1)&&(r=Y(t,0,-1),c(n===r)),n.startsWith(r)?(c(n.startsWith("/")||n.startsWith("http")),c(n.startsWith(r)),n=n.slice(r.length),n.startsWith("/")||(n="/"+n),c(n.startsWith("/")),{pathname:n,isBaseMissing:!1}):{pathname:e,isBaseMissing:!0}}function bt(e){return e.startsWith("/")}function us(e,t,n,r,i){const s=Zn(t,n,r,i);c(e===s)}function Zn(e,t,n,r){return`${e||""}${t}${n||""}${r||""}`}function Qn(e){return Xn(e)||tr(e)}function Xn(e){return er(e)||nr(e)}function er(e){return e.startsWith("/")}function tr(e){return[".","?","#"].some(t=>e.startsWith(t))||e===""}function cs(e){return!e.startsWith("/")&&!tr(e)}function nr(e){const{protocol:t}=qn(e);return!!t&&os(t)}function fs(e,t){b(Xn(e),rr(e,t,!0))}function Fl(e,t){b(er(e),rr(e,t))}function rr(e,t,n,r){let i=`${t} is ${m.string(e)} but it should start with ${m.string("/")}`;return n&&(i+=` or a protocol (e.g. ${m.string("http://")})`),i}const ds="/";function hs(e,t,n){const{pathnameOriginal:r,searchOriginal:i,hashOriginal:s}=We(e,ds);e.startsWith("/")&&c(e===`${r}${i||""}${s||""}`,{url:e});const o=r.endsWith("/");let a;return a=r+(o?"":"/")+"index",c(a),a=a+t,`${a}${i||""}${s||""}`}const gs=".pageContext.json";function ps(e){return hs(e,gs)}function ye(e){return typeof e!="object"||e===null?!1:Object.getPrototypeOf(e)===null?!0:e.constructor.name==="Object"}function ir(e,{hookName:t,hookFilePath:n}){if(e==null)return;c(!t.endsWith(")"));const r=`The ${m.cyan("pageContext")} object provided by the ${t}() hook defined by ${n}`;b(F(e),`${r} should be an object (but it's ${m.cyan(`typeof pageContext === ${JSON.stringify(typeof e)}`)} instead)`),b(!("isPageContext"in e),`${r} shouldn't be the whole ${m.cyan("pageContext")} object, see https://vike.dev/pageContext-manipulation#do-not-return-entire-pagecontext`),L(!("pageId"in e),`${r} sets ${m.cyan("pageContext.pageId")} which means that Vike's routing is overridden. This is an experimental feature: make sure to contact a vike maintainer before using this.`,{onlyOnce:!0}),b(!("is404"in e),`${r} sets ${m.cyan("pageContext.is404")} which is forbidden, use ${m.cyan("throw render()")} instead, see https://vike.dev/render`)}function Kt(e){return"["+e.map(t=>"'"+t+"'").join(", ")+"]"}function ms(e,t,n){c(!n.endsWith(" "));const r=[],i=Object.keys(e);for(const s of i)t.includes(s)||r.push(s);b(r.length===0,[n,"returned an object with following unknown keys:",Kt(r)+".","Only following keys are allowed:",Kt(t)+"."].join(" "))}function ys(e,t){if(e==null)return;const n=`The onBeforeRender() hook defined by ${t}`;b(ye(e),`${n} should return a plain JavaScript object, ${m.cyan("undefined")}, or ${m.cyan("null")}`),ms(e,["pageContext"],n),e.pageContext&&ir(e.pageContext,{hookName:"onBeforeRender",hookFilePath:t})}const bs="The guard() hook defined by";async function ws(e,t){let n;e._globalContext._pageFilesAll.length>0?(c(e._globalContext._pageConfigs.length===0),n=xs(e.pageId,e._globalContext._pageFilesAll)):n=qe(e,"guard"),n&&await Nn(n,e,t)}function xs(e,t){const n=t.find(l=>l.pageId===e&&l.fileType===".page.route");if(!n)return null;const{filePath:r,fileExports:i}=n;c(i);const s=i.guard;if(!s)return null;const o=r,a=Ve("guard");return b(q(s),`${bs} ${o} should be a function`),{hookFn:s,hookName:"guard",hookFilePath:o,hookTimeout:a}}function Ss(e,t,n=r=>r){if(c(e.length>0),e.length===1)return n(e[0]);const r=e.slice(0,e.length-1),i=e[e.length-1],s=e.length>2?",":"";return r.map(n).join(", ")+`${s} ${t} `+n(i)}function Ps(e){const t=new Error("AbortRender");return C(t,{_pageContextAbort:e,[sr]:!0}),t}const sr="_isAbortError";function Mt(e){return typeof e=="object"&&e!==null&&sr in e}function Cs(e){return e._urlRewrite||e._urlRedirect||e.abortStatusCode?(c(P(e,"_abortCall","string")),!0):!1}function vs(e){const t=e.at(-1);if(!t)return null;const n=t._pageContextAbort;return c(n),n}function ks(e,t,n){C(t,{_pageContextAbort:n}),e.push(t),Rs(e)}function Rs(e){if(e.length<10)return;const t=e.map(n=>n._pageContextAbort._abortCall);je(t).length!==t.length&&b(!1,`Infinite loop: ${t.join(" => ")}`)}const Os="_pageContextInitIsPassedToClient",or="_isServerSideError";function Es(e){const t=e.config?.Page||e.exports?.Page;return C(e,{Page:t}),Hn(e),$s(e),ar(e)}function ar(e){return dt(e)}function $s(e){Ts(e)}function Ts(e){Object.entries(e).forEach(([t,n])=>{delete e[t],e[t]=n})}function se(e){return Es(e)}const lr=V("runtime-client-routing/getPageContextFromHooks.ts",{}),ur=["guard","data","onBeforeRender"];function Ls(){const e=Yi();return hr(e),C(e,{_hasPageContextFromServer:!0}),e}async function Is(e){for(const t of ur)fr(t,e)&&(t==="guard"?await gr(e):await cr(t,e));return e}async function Xe(e,t){const n={_hasPageContextFromServer:!1};if(!t&&await js(e)){const r=await Hs(e);if("is404ServerSideRouted"in r)return{is404ServerSideRouted:!0};const{pageContextFromServer:i}=r;n._hasPageContextFromServer=!0,c(!(or in i)),c(!("serverSideError"in i)),C(n,i)}return{pageContextFromHooksServer:n}}async function Jt(e,t){let n=!1;for(const s of ur)if(!(!fr(s,e)&&e._hasPageContextFromServer))if(s==="guard"){if(t)continue;await gr(e)}else s==="data"&&(n=!0),await cr(s,e);const r=dr("data",e);return(n&&r.client||e._hasPageContextFromServer&&r.server)&&await wt("onData",e),e}async function wt(e,t){return await ht(e,t,n=>se(n))}async function cr(e,t){let n;e==="data"?n=await As(t):n=await Fs(t),Object.assign(t,n)}async function As(e){const n=(await wt("data",e))[0];if(!n)return;const{hookReturn:r}=n;return{data:r}}async function Fs(e){const n=(await wt("onBeforeRender",e))[0];if(!n)return;const{hookReturn:r,hookFilePath:i}=n,s={};ys(r,i);const o=r?.pageContext;return o&&C(s,o),s}function _s(e){e[Os]&&(lr.pageContextInitIsPassedToClient=!0)}async function js(e){if(xt(e)){const{hasOnBeforeRenderServerSideOnlyHook:t}=await Xi(e._pageFilesAll,e.pageId);return t}return!!lr.pageContextInitIsPassedToClient||Ds(e)}function Ds(e){if(xt(e))return!1;const t=Tn(e.pageId,e._globalContext._pageConfigs),n=ae(t,"hasServerOnlyHook")?.value;return c(n===!0||n===!1),n}function fr(e,t){const n=dr(e,t);return!!n.client&&!n.server}function dr(e,t){if(xt(t))return{client:!1,server:!0};const n=Tn(t.pageId,t._globalContext._pageConfigs);return ae(n,`${e}Env`)?.value??{}}async function Hs(e){let t=ps(e._urlRewrite??e.urlOriginal);const n=await fetch(t);{const s=n.headers.get("content-type"),o="application/json",a=s&&s.includes(o);if(!a&&n.status===404)return J(e.urlOriginal),{is404ServerSideRouted:!0};b(a,`Wrong Content-Type for ${t}: it should be ${o} but it's ${s} instead. Make sure to properly use pageContext.httpResponse.headers, see https://vike.dev/renderPage`)}const r=await n.text(),i=pt(r);if(c(F(i)),Cs(i))throw Ps(i);if("serverSideError"in i||or in i)throw $n("pageContext couldn't be fetched because an error occurred on the server-side");return hr(i),{pageContextFromServer:i}}function hr(e){b(!("urlOriginal"in e),"Adding 'urlOriginal' to passToClient is forbidden"),c(P(e,"pageId","string")),ts(e)}function xt(e){return e._globalContext._pageConfigs.length===0}async function gr(e){await ws(e,t=>se(t))}function re(e,t,n){const r=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(e,t,{...r,enumerable:n})}function Ns(e,t){return C(e,t),e}function Vs(){const e={_isOriginalObject:!0,isPageContext:!0};return re(e,"_isOriginalObject",!1),e}function Oe(e,t,{get:n,...r}){Object.defineProperty(e,t,{...r,get:n})}function Ws(e){c(typeof e.urlOriginal=="string"),Hn(e);const t={};return Oe(t,"urlPathname",{get:mr,enumerable:!0,configurable:!0}),Oe(t,"url",{get:Bs,enumerable:!1,configurable:!0}),Oe(t,"urlParsed",{get:zs,enumerable:!0,configurable:!0}),t}function pr(e){const t=o=>c(typeof n=="string",{src:o,urlResolved:n});let n,r;e.urlLogical?(n=e.urlLogical,r=!1,t(1)):e._urlRewrite?(n=e._urlRewrite,r=!1,t(2)):(n=e.urlOriginal,r=!0,t(3)),t(4);let i=e._urlHandler;i||(i=o=>o),n=i(n);const s=r?e._baseServer:"/";return We(n,s)}function mr(){const{pathname:e}=pr(this),t=e;return c(t.startsWith("/")),t}function Bs(){return L(!1,"`pageContext.url` is outdated. Use `pageContext.urlPathname`, `pageContext.urlParsed`, or `pageContext.urlOriginal` instead. (See https://vike.dev/migration/0.4.23 for more information.)",{onlyOnce:!0,showStackTrace:!0}),mr.call(this)}function zs(){const{isBaseMissing:e,...t}=pr(this),n=ee(),r=s=>{L(n,`pageContext.urlParsed.${s} isn't available on the server-side (HTTP requests don't include the URL hash)`,{onlyOnce:!0,showStackTrace:!0})},i={...t,get hash(){return r("hash"),t.hash},get hashOriginal(){return r("hashOriginal"),t.hashOriginal},get hashString(){return L(!1,"pageContext.urlParsed.hashString has been renamed to pageContext.urlParsed.hashOriginal",{onlyOnce:!0,showStackTrace:!0}),r("hashString"),t.hashOriginal},get searchString(){return L(!1,"pageContext.urlParsed.searchString has been renamed to pageContext.urlParsed.searchOriginal",{onlyOnce:!0,showStackTrace:!0}),t.searchOriginal}};return re(i,"hashString",!1),re(i,"searchString",!1),n||(re(i,"hash",!1),re(i,"hashOriginal",!1)),i}function yr(){return c(Us("/")),"/"}function Us(e){return e.startsWith("/")}function Gs(e,t,n){Object.keys(e).filter(r=>!0).forEach(r=>delete e[r]),Object.defineProperties(e,Object.getOwnPropertyDescriptors(t))}const Ks=["clientRouting"];function Ms(e){Ks.forEach(t=>{if(c(e.fileExports),!(t in e.fileExports))return;const n=`The value of \`${t}\` is only allowed to be \`true\`.`;b(e.fileExports[t]!==!1,`${e.filePath} has \`export { ${t} }\` with the value \`false\` which is prohibited: remove \`export { ${t} }\` instead. (${n})`),b(e.fileExports[t]===!0,`${e.filePath} has \`export { ${t} }\` with a forbidden value. ${n}`)})}const br=["render","clientRouting","prerender","doNotPrerender"];function Js(e,t){b(!br.includes(e),`${t} has \`export default { ${e} }\` which is prohibited, use \`export { ${e} }\` instead.`)}function Ys(e){const t=".page.",n=Y(e.split(t),0,-1).join(t);return c(!n.includes("\\")),n}function qs(e,t){if(t.length>0){const r=t.filter(i=>i.isErrorPage);return r.length===0?null:(b(r.length===1,"Only one error page can be defined"),r[0].pageId)}const n=je(e.map(({pageId:r})=>r).filter(r=>Be(r)));if(b(n.length<=1,`Only one _error.page.js is allowed, but found several: ${n.join(" ")}`),n.length>0){const r=n[0];return c(r),r}return null}function Be(e,t){return c(!e.includes("\\")),e.includes("/_error")}const Zs=["js","cjs","mjs"],Qs=["ts","cts","mts"],Xs=[...Zs,...Qs],eo=["jsx","cjsx","mjsx"],to=["tsx","ctsx","mtsx"],no=[...eo,...to],wr=["vue","svelte","marko","md","mdx"],ro=[...Xs,...no,...wr];function xr(e){return ro.some(t=>e.endsWith("."+t))}function io(e){return wr.some(t=>e.endsWith("."+t))}const so=[".page",".page.server",".page.route",".page.client",".css"];function oo(e){if(e.endsWith(".css"))return".css";c(xr(e),e);const n=e.split("/").slice(-1)[0].split("."),r=n.slice(-3)[0],i=n.slice(-2)[0];if(i==="page")return".page";if(c(r==="page",e),i==="server")return".page.server";if(i==="client")return".page.client";if(i==="route")return".page.route";c(!1,e)}function Sr(e){const t=s=>i.pageId===s||i.isDefaultPageFile&&(Yt(i.filePath)||ao(s,i.filePath)),n=oo(e),i={filePath:e,fileType:n,isEnv:s=>{if(c(n!==".page.route"),s==="CLIENT_ONLY")return n===".page.client"||n===".css";if(s==="SERVER_ONLY")return n===".page.server";if(s==="CLIENT_AND_SERVER")return n===".page";c(!1)},isRelevant:t,isDefaultPageFile:et(e),isRendererPageFile:n!==".css"&&et(e)&&Yt(e),isErrorPageFile:Be(e),pageId:Ys(e)};return i}function et(e){return Be(e)?!1:e.includes("/_default")}function Yt(e){return e.includes("/renderer/")}function ao(e,t){c(!e.endsWith("/")),c(!t.endsWith("/")),c(et(t));const n=Y(t.split("/"),0,-1).filter(r=>r!=="_default").join("/");return e.startsWith(n)}const lo=["$$registrations","_rerender_only"],uo=[".md",".mdx"];function co(e,t,n){const r=Object.keys(e),i=u=>u==="default"||u===n,s=r.filter(i),o=m.code("export default"),a=m.code(`export { ${n} }`);s.length===0&&b(!1,`${t} should define ${a} or ${o}`),s.length===2&&b(!1,`${t} is ambiguous: remove ${o} or ${a}`),c(s.length===1);const l=r.filter(u=>!i(u)).filter(u=>!lo.includes(u));uo.some(u=>t.endsWith(u))||l.forEach(u=>{L(!1,`${t} unexpected ${m.cyan(`export { ${u} }`)}, see https://vike.dev/no-side-exports`,{onlyOnce:!0})})}function fo(e,t){const n=e.map(i=>{const s=tt(i.configValuesSerialized);return ho(s),{...i,configValues:s}}),r={configValues:{}};{const i=tt(t.configValuesSerialized);Object.assign(r.configValues,i)}return{pageConfigs:n,pageConfigGlobal:r}}function ho(e){const t="route",n=e[t];if(!n)return;const{value:r,definedAtData:i}=n,s=typeof r;c(i);const o=wi("Config",t,i);b(s==="string"||q(r),`${o} has an invalid type '${s}': it should be a string or a function instead, see https://vike.dev/route`)}function tt(e){const t={};return Object.entries(e).forEach(([r,i])=>{let s;if(i.type==="cumulative"){const{valueSerialized:o,...a}=i;s={value:o.map((u,f)=>{const{value:d,sideExports:h}=qt(u,r,()=>{const p=i.definedAtData[f];return c(p),p});return n(h),d}),...a}}else{const{valueSerialized:o,...a}=i,{value:l,sideExports:u}=qt(o,r,()=>{c(i.type!=="computed");const{definedAtData:f}=i;return Array.isArray(f)?f[0]:f});n(u),s={value:l,...a}}t[r]=s}),t;function n(r){r.forEach(i=>{const{configName:s,configValue:o}=i;t[s]||(t[s]=o)})}}function qt(e,t,n){if(e.type==="js-serialized"){let{value:r}=e;return r=mt(r),{value:r,sideExports:[]}}if(e.type==="pointer-import"){const{value:r}=e;return{value:r,sideExports:[]}}if(e.type==="plus-file"){const r=n(),{exportValues:i}=e;c(!r.definedBy),co(i,r.filePathToShowToUser,t);let s,o=!1;const a=[];return Object.entries(i).forEach(([l,u])=>{l!=="default"&&l!==t?a.push({configName:l,configValue:{type:"standard",value:u,definedAtData:{filePathToShowToUser:r.filePathToShowToUser,fileExportPathToShowToUser:[l]}}}):(s=u,c(!o),o=!0)}),c(o),{value:s,sideExports:a}}c(!1)}function Pr(e,t,n){(!e||!t(e))&&c(!1,{moduleExports:e,moduleExportsKeys:go(e),moduleId:n})}function go(e){return e===void 0?null:[...Object.getOwnPropertyNames(e),...Object.getOwnPropertySymbols(e),...Object.keys(e)]}function po(e){Pr(e,a=>"pageFilesLazy"in a),c(P(e,"pageFilesLazy","object")),c(P(e,"pageFilesEager","object")),c(P(e,"pageFilesExportNamesLazy","object")),c(P(e,"pageFilesExportNamesEager","object")),c(P(e.pageFilesLazy,".page")),c(P(e.pageFilesLazy,".page.client")||P(e.pageFilesLazy,".page.server")),c(P(e,"pageFilesList","string[]")),c(P(e,"pageConfigsSerialized")),c(P(e,"pageConfigGlobalSerialized"));const{pageConfigsSerialized:t,pageConfigGlobalSerialized:n}=e;mo(t),yo(n);const{pageConfigs:r,pageConfigGlobal:i}=fo(t,n),s={};ve(e.pageFilesLazy).forEach(({filePath:a,pageFile:l,globValue:u})=>{l=s[a]=s[a]??l;const f=u;Zt(f),l.loadFile=async()=>{"fileExports"in l||(l.fileExports=await f(),Ms(l))}}),ve(e.pageFilesExportNamesLazy).forEach(({filePath:a,pageFile:l,globValue:u})=>{l=s[a]=s[a]??l;const f=u;Zt(f),l.loadExportNames=async()=>{if(!("exportNames"in l)){const d=await f();c(P(d,"exportNames","string[]"),l.filePath),l.exportNames=d.exportNames}}}),ve(e.pageFilesEager).forEach(({filePath:a,pageFile:l,globValue:u})=>{l=s[a]=s[a]??l;const f=u;c(F(f)),l.fileExports=f}),ve(e.pageFilesExportNamesEager).forEach(({filePath:a,pageFile:l,globValue:u})=>{l=s[a]=s[a]??l;const f=u;c(F(f)),c(P(f,"exportNames","string[]"),l.filePath),l.exportNames=f.exportNames}),e.pageFilesList.forEach(a=>{s[a]=s[a]??Sr(a)});const o=Object.values(s);return o.forEach(({filePath:a})=>{c(!a.includes("\\"))}),{pageFilesAll:o,pageConfigs:r,pageConfigGlobal:i}}function ve(e){const t=[];return Object.entries(e).forEach(([n,r])=>{c(so.includes(n)),c(F(r)),Object.entries(r).forEach(([i,s])=>{const o=Sr(i);c(o.fileType===n),t.push({filePath:i,pageFile:o,globValue:s})})}),t}function Zt(e){c(q(e))}function mo(e){c(M(e)),e.forEach(t=>{c(F(t)),c(P(t,"pageId","string")),c(P(t,"routeFilesystem")),c(P(t,"configValuesSerialized"))})}function yo(e){c(P(e,"configValuesSerialized"))}function Ee(e){return(t,n)=>{const r=e(t),i=e(n);return r===i?0:r>i?-1:1}}function bo(e){return(t,n)=>{const r=e(t),i=e(n);return r===i?0:r<i?-1:1}}function Q(e){return(t,n)=>{const r=e(t),i=e(n);if(c([!0,!1,null].includes(r)),c([!0,!1,null].includes(i)),r===i)return 0;if(r===!0||i===!1)return-1;if(i===!0||r===!1)return 1;c(!1)}}function wo(e){return Q(t=>{const n=e(t);return n===null?null:!n})}function xo(e,t,n){const r=vr({pageConfigGlobalValues:e,pageConfigValues:n}),i=Cr(r),s=(()=>{if(t.isErrorPage)return{...i,isErrorPage:!0};{const o=i.config.route??t.routeFilesystem.routeString;return{...i,route:o}}})();return[t.pageId,s]}function Cr(e){return{config:e.config,_source:e.source,_sources:e.sources,_from:e.from}}function vr({pageConfigGlobalValues:e,pageConfigValues:t}){const n={...e,...t};return kr({configValues:n})}function So(e,t,n){const r={},i={},s={};e.forEach(h=>{vo(h).forEach(({exportName:g,exportValue:k,isFromDefaultExport:v})=>{c(g!=="default"),s[g]=s[g]??[],s[g].push({exportValue:k,exportSource:`${h.filePath} > ${v?`\`export default { ${g} }\``:`\`export { ${g} }\``}`,filePath:h.filePath,_filePath:h.filePath,_fileType:h.fileType,_isFromDefaultExport:v})})});let o,a,l;if(t){const h=vr({pageConfigGlobalValues:n.configValues,pageConfigValues:t.configValues});o=h.source,a=h.sources,l=h.from,Object.assign(r,h.config),Object.assign(i,h.configEntries),Object.assign(s,h.exportsAll)}else o={},a={},l={configsStandard:{},configsCumulative:{},configsComputed:{}};const u={},f={};Object.entries(s).forEach(([h,p])=>{p.forEach(({exportValue:g,_fileType:k,_isFromDefaultExport:v})=>{f[h]=f[h]??g,k===".page"&&!v&&(h in u||(u[h]=g))})}),c(!("default"in f)),c(!("default"in s));const d={config:r,from:l,source:o,sources:a,configEntries:i,exports:f,exportsAll:s};return Oe(d,"pageExports",{get:()=>(ee()||L(!1,"pageContext.pageExports is outdated, use pageContext.exports instead",{onlyOnce:!0,showStackTrace:!0}),u),enumerable:!1,configurable:!0}),d}function Po(e,t){return Co(e,t,r=>r.configValues)}function Co(e,t,n){const r=n(t,!0),i=kr({configValues:r}),s=Cr(i),o=Object.fromEntries(e.map(l=>{const u=n(l);return xo(r,l,u)})),a={...s,pages:o};return{...a,_globalConfigPublic:a}}function kr(e){const t={},n={},r={},i={},s={},o={configsStandard:{},configsCumulative:{},configsComputed:{}},a=(u,f)=>{i[f]=u,s[f]??(s[f]=[]),s[f].push(u)},l=(u,f,d)=>{const h=Ln(d),p=An("Config",u,d);n[u]=n[u]??[],n[u].push({configValue:f,configDefinedAt:p,configDefinedByFile:h});const g=u;r[g]=r[g]??[],r[g].push({exportValue:f,exportSource:p,filePath:h,_filePath:h,_fileType:null,_isFromDefaultExport:null})};return Object.entries(e.configValues).forEach(([u,f])=>{const{value:d}=f;if(t[u]=t[u]??d,f.type==="standard"){const h={type:"configsStandard",value:f.value,definedAt:ie(f.definedAtData,u)};a(h,u),o.configsStandard[u]=h,l(u,d,f.definedAtData)}if(f.type==="cumulative"){const h={type:"configsCumulative",definedAt:ie(f.definedAtData,u),values:f.value.map((p,g)=>{const k=f.definedAtData[g];c(k);const v=ie(k,u);return l(u,p,k),{value:p,definedAt:v}})};a(h,u),o.configsCumulative[u]=h}if(f.type==="computed"){const h={type:"configsComputed",definedAt:"Vike",value:f.value};a(h,u),o.configsComputed[u]=h,l(u,d,f.definedAtData)}}),{config:t,configEntries:n,exportsAll:r,source:i,sources:s,from:o}}function vo(e){const{filePath:t,fileExports:n}=e;c(n),c(xr(t));const r=[];return Object.entries(n).sort(wo(([i])=>i==="default")).forEach(([i,s])=>{let o=i==="default";if(o)if(io(t))i="Page";else{b(F(s),`The ${m.cyan("export default")} of ${t} should be an object.`),Object.entries(s).forEach(([a,l])=>{Js(a,t),r.push({exportName:a,exportValue:l,isFromDefaultExport:o})});return}r.push({exportName:i,exportValue:s,isFromDefaultExport:o})}),r.forEach(({exportName:i,isFromDefaultExport:s})=>{c(!(s&&br.includes(i)))}),r}async function ko(e,t,n,r,i){const{previousCreateGlobalContextPromise:s}=t,{promise:o,resolve:a}=gt({timeout:null});t.previousCreateGlobalContextPromise=o,s&&(c(t.globalContext),await s);try{const l=Ro(e);let u;if(t.globalContext?u=!0:(t.globalContext=l,u=!1),n&&l._pageConfigs.length>0){const h=n?.(l);C(l,h)}else{const h=await r?.(l);C(l,h)}{const h=await i?.(l);C(l,h)}const f=Fn(l._pageConfigGlobal,"onCreateGlobalContext");let d=!1;return Eo(t.onCreateGlobalContextHooks??[],f)||(t.onCreateGlobalContextHooks=f,await Hi("onCreateGlobalContext",l,Dn),d=!0),u&&(d?Gs(t.globalContext,l):C(t.globalContext,l,!0)),t.globalContext}finally{a()}}function Ro(e){const{pageFilesAll:t,pageConfigs:n,pageConfigGlobal:r}=po(e),i=Oo(t,n),s=Po(n,r),o={isGlobalContext:!0,_isOriginalObject:!0,_virtualFileExportsGlobalEntry:e,_pageFilesAll:t,_pageConfigs:n,_pageConfigGlobal:r,_allPageIds:i,...s};return re(o,"_isOriginalObject",!1),o}function Oo(e,t){const n=e.filter(({isDefaultPageFile:s})=>!s).map(({pageId:s})=>s),r=je(n),i=t.map(s=>s.pageId);return[...r,...i]}function Eo(e,t){const n=e.map(i=>i.hookFn),r=t.map(i=>i.hookFn);return n.every(i=>r.includes(i))&&r.every(i=>n.includes(i))}const U=V("getGlobalContextClientInternalShared.ts",(()=>{const{promise:e,resolve:t}=gt();return{globalContextInitialPromise:e,globalContextInitialPromiseResolve:t}})());async function Rr(){if(U.globalContextPromise)return await U.globalContextPromise;const e=ko(U.virtualFileExportsGlobalEntry,U,()=>{const n={isClientSide:!0};return C(n,qi()),n});U.globalContextPromise=e;const t=await e;return c(U.globalContext===t),U.globalContextInitialPromiseResolve(),t}async function _l(e){U.virtualFileExportsGlobalEntry!==e&&(delete U.globalContextPromise,U.virtualFileExportsGlobalEntry=e,await Rr())}function $o(e,t){const r=t.filter(({filesystemRoot:s})=>e.startsWith(s)).sort(Ee(({filesystemRoot:s})=>s.length))[0];let i;if(r){const{filesystemRoot:s,urlRoot:o}=r,a={pageId:e,filesystemRoot:s,urlRoot:o};c(o.startsWith("/")&&e.startsWith("/")&&s.startsWith("/"),a),c(e.startsWith(s),a),s!=="/"?(c(!s.endsWith("/"),a),i=Y(e,s.length,0)):i=e,c(i.startsWith("/"),a),i=o+(o.endsWith("/")?"":"/")+Y(i,1,0)}else i=e;return c(i.startsWith("/")),i=i.split("/").filter(s=>s!=="pages"&&s!=="src"&&s!=="index").join("/"),c(!i.includes(".page.")),c(!i.endsWith(".")),i.endsWith("/index")&&(i=Y(i,0,-6)),i===""&&(i="/"),c(i.startsWith("/")),c(!i.endsWith("/")||i==="/"),i}function To(e){return typeof e=="object"&&e!==null&&"then"in e&&q(e.then)}async function Lo(e,t,n){let{hookReturn:r}=Vn({hookFn:e,hookFilePath:n,hookName:"route"},t._globalContext,t,dt);if(Or(r,`The Route Function ${n}`),r=await r,r===!1)return null;if(r===!0&&(r={}),b(ye(r),`The Route Function ${n} should return a boolean or a plain JavaScript object (but it's ${m.cyan(`typeof result === ${JSON.stringify(typeof r)}`)} instead)`),"match"in r){const{match:o}=r;if(b(typeof o=="boolean",`The ${m.cyan("match")} value returned by the Route Function ${n} should be a boolean.`),!o)return null}let i=null;"precedence"in r&&(i=r.precedence,b(typeof i=="number",`The ${m.cyan("precedence")} value returned by the Route Function ${n} should be a number.`)),Er(r,`The ${m.cyan("routeParams")} object returned by the Route Function ${n} should`);const s=r.routeParams||{};return b(!("pageContext"in r),`Providing ${m.cyan("pageContext")} in Route Functions is prohibited, see https://vike.dev/route-function#cannot-provide-pagecontext`),c(ye(s)),Object.keys(r).forEach(o=>{b(o==="match"||o==="routeParams"||o==="precedence",`The Route Function ${n} returned an object with an unknown property ${m.cyan(o)} (the known properties are ${m.cyan("match")}, ${m.cyan("routeParams")}, and ${m.cyan("precedence")})`)}),{precedence:i,routeParams:s}}function Or(e,t){L(!To(e),`${t} returned a promise, but asynchronous routing is deprecated and will be removed in the next major release, see https://vike.dev/route-function#async`,{onlyOnce:!0})}function Qt(){const e=m.cyan("iKnowThePerformanceRisksOfAsyncRouteFunctions");L(!1,`${e} is deprecated and will be removed in the next major release`,{onlyOnce:!0})}function Er(e,t){c(t.endsWith(" should")),P(e,"routeParams")&&b(P(e,"routeParams","string{}"),`${t} be ${m.bold("Record<string, string>")}`)}async function Io(e,t,n,r){return await Promise.all(e.filter(i=>i.fileType===".page.route").map(i=>i.loadFile?.())),Ao(e,t,n,r)}function Ao(e,t,n,r){const{onBeforeRouteHook:i,filesystemRoots:s}=_o(e,t,n);return{pageRoutes:Fo(s,e,t,r),onBeforeRouteHook:i}}function Fo(e,t,n,r){const i=[];if(n.length>0){c(e===null);const s=!0;n.filter(o=>!o.isErrorPage).forEach(o=>{const a=o.pageId;let l=null;{const u="route",f=ae(o,u);if(f){const d=f.value;c(f.definedAtData);const h=ie(f.definedAtData,u);if(typeof d=="string")l={pageId:a,comesFromV1PageConfig:s,routeString:d,routeDefinedAtString:h,routeType:"STRING"};else{const{definedAtData:p}=f;c(!M(p)&&!p.definedBy);const{filePathToShowToUser:g}=p;c(g),c(q(d)),ae(o,"iKnowThePerformanceRisksOfAsyncRouteFunctions","boolean")&&Qt(),l={pageId:a,comesFromV1PageConfig:s,routeFunction:d,routeFunctionFilePath:g,routeDefinedAtString:h,routeType:"FUNCTION"}}}}if(!l){const{routeFilesystem:u}=o;c(u);const{routeString:f,definedAtLocation:d}=u;c(u.routeString.startsWith("/")),l={pageId:a,routeFilesystemDefinedBy:d,comesFromV1PageConfig:s,routeString:f,routeDefinedAtString:null,routeType:"FILESYSTEM"}}c(l),i.push(l)})}if(n.length===0){c(e);const s=!1;r.filter(o=>!Be(o)).forEach(o=>{const a=t.find(l=>l.pageId===o&&l.fileType===".page.route");if(!a||!("default"in a.fileExports)){const l=$o(o,e);c(l.startsWith("/")),c(!l.endsWith("/")||l==="/"),i.push({pageId:o,comesFromV1PageConfig:s,routeString:l,routeDefinedAtString:null,routeFilesystemDefinedBy:`${o}.page.*`,routeType:"FILESYSTEM"})}else{const{filePath:l,fileExports:u}=a;if(c(u.default),P(u,"default","string")){const f=u.default;b(f.startsWith("/"),`A Route String should start with a leading slash '/' but ${l} has \`export default '${f}'\`. Make sure to \`export default '/${f}'\` instead.`),i.push({pageId:o,comesFromV1PageConfig:s,routeString:f,routeDefinedAtString:l,routeType:"STRING"});return}if(P(u,"default","function")){const f=u.default;"iKnowThePerformanceRisksOfAsyncRouteFunctions"in u&&Qt(),i.push({pageId:o,comesFromV1PageConfig:s,routeFunction:f,routeFunctionFilePath:l,routeDefinedAtString:l,routeType:"FUNCTION"});return}b(!1,`The default export of ${l} should be a string or a function.`)}})}return i}function _o(e,t,n){if(t.length>0)return{onBeforeRouteHook:vi(n,"onBeforeRoute"),filesystemRoots:null};let r=null;const i=[];return e.filter(s=>s.fileType===".page.route"&&s.isDefaultPageFile).forEach(({filePath:s,fileExports:o})=>{if(c(o),"onBeforeRoute"in o){b(P(o,"onBeforeRoute","function"),`\`export { onBeforeRoute }\` of ${s} should be a function.`);const{onBeforeRoute:a}=o,l="onBeforeRoute";r={hookFilePath:s,hookFn:a,hookName:l,hookTimeout:Ve(l)}}"filesystemRoutingRoot"in o&&(b(P(o,"filesystemRoutingRoot","string"),`\`export { filesystemRoutingRoot }\` of ${s} should be a string.`),b(P(o,"filesystemRoutingRoot","string"),`\`export { filesystemRoutingRoot }\` of ${s} is \`'${o.filesystemRoutingRoot}'\` but it should start with a leading slash \`/\`.`),i.push({filesystemRoot:jo(s),urlRoot:o.filesystemRoutingRoot}))}),{onBeforeRouteHook:r,filesystemRoots:i}}function jo(e){c(e.startsWith("/")),c(!e.endsWith("/"));const t=e.split("/"),n=Y(t,0,-1).join("/")||"/";return c(n.startsWith("/")),c(!n.endsWith("/")||n==="/"),n}async function Do(){const e=await Rr();return C(e,await Ho(e)),e}async function Ho(e){const{pageRoutes:t,onBeforeRouteHook:n}=await Io(e._pageFilesAll,e._pageConfigs,e._pageConfigGlobal,e._allPageIds);return{_pageRoutes:t,_onBeforeRouteHook:n}}async function $r(e){const t=No(e),n=await Do();C(t,{_globalContext:n,_pageFilesAll:n._pageFilesAll});const r=Ns(t,n._globalConfigPublic);return ne(t,r),t}function No(e){const t=Vs();C(t,{isClientSide:!0,isPrerendering:!1,urlOriginal:e,_urlHandler:null});const n=yr();c(bt(n)),C(t,{_baseServer:n});const r=Ws(t);return C(t,r),t}const Tr=V("utils/assertRouterType.ts",{});function Lr(){Wo(Vo()),Tr.isClientRouting=!0}function Vo(){return Tr.isClientRouting!==!1}function Wo(e){b(ee(),`${m.cyan("import { something } from 'vike/client/router'")} is forbidden on the server-side`,{showStackTrace:!0}),L(e,"You shouldn't `import { something } from 'vike/client/router'` when using Server Routing. The 'vike/client/router' utilities work only with Client Routing. In particular, don't `import { navigate }` nor `import { prefetch }` as they unnecessarily bloat your client-side bundle sizes.",{showStackTrace:!0,onlyOnce:!0})}function Ir(e,t){const n=e.filter(i=>i.pageId===t);return c(n.length<=1),n[0]??null}async function Bo(e,t){if("isPageEntryLoaded"in e)return e;const{moduleId:n,moduleExportsPromise:r}=e.loadVirtualFilePageEntry(),i=await r;Pr(i,()=>"configValuesSerialized"in i,n);const o=zo(i);return Object.assign(e.configValues,o),C(e,{isPageEntryLoaded:!0}),e}function zo(e){return tt(e.configValuesSerialized)}const Ar="_isAssetsError";async function Fr(e,t,n,r){const i=yt(t,e),s=Ir(n,e);let o;try{o=(await Promise.all([s&&Bo(s,!1),...i.map(u=>u.loadFile?.())]))[0]}catch(l){throw Uo(l)&&Object.assign(l,{[Ar]:!0}),l}const a={};return C(a,So(i,o,r)),C(a,{_pageFilesLoaded:i}),a}function St(e){return e?e[Ar]===!0:!1}function Uo(e){return e instanceof Error?["Failed to fetch dynamically imported module","error loading dynamically imported module","Importing a module script failed","error resolving module specifier","failed to resolve module"].some(n=>e.message.toLowerCase().includes(n.toLowerCase())):!1}function be(e,t){c(!e.startsWith("#"));const{searchOriginal:n,hashOriginal:r,pathname:i}=We(e,"/");let s=`${i}${n||""}`;return t?.withoutHash||(s+=r||""),c(s.startsWith("/")),s}function _r(e){const t=e.getAttribute("href");return t===null||!Qn(t)||t===""||cs(t)||Jo(t)||Ko(e)||Mo(e)||!Yo(t)||!Go(e)}function Go(e){if(qo()){const n=e.getAttribute("data-vike-link");return n!==null&&n!=="false"}else return!0}function Ko(e){const t=e.getAttribute("target"),n=e.getAttribute("rel");return t==="_blank"||t==="_external"||n==="external"||e.hasAttribute("download")}function Mo(e){return e.getAttribute("data-vike")==="false"}function Jo(e){return!!(e.startsWith("#")||e.includes("#")&&be(e,{withoutHash:!0})===be(window.location.href,{withoutHash:!0}))}function jl(e){return e.startsWith("#")?e===window.location.hash:be(e)===be(window.location.href)}function Yo(e){const t=yr();c(bt(t));const{isBaseMissing:n}=We(e,t);return!n}function qo(){return!!window._disableAutomaticLinkInterception}function pe(e){return e.fileType===".css"?[]:e.exportNames?e.exportNames:(c(e.fileExports,e.filePath),Object.keys(e.fileExports))}function Zo({pageFilesClientSide:e,pageFilesServerSide:t,pageId:n}){return{isHtmlOnly:r(),isClientRouting:s()};function r(){return t.some(a=>a.pageId===n&&a.fileType===".page")?(i(),!1):!(!t.some(a=>a.pageId===n&&a.fileType===".page.server")||e.some(a=>a.pageId===n&&a.fileType===".page.client"&&pe(a).includes("render")))}function i(){const o=e.some(a=>pe(a).includes("render"));b(o,["No client-side `render()` hook found.","See https://vike.dev/render-modes for more information.",["Loaded client-side page files (none of them `export { render }`):",...e.map((a,l)=>` (${l+1}): ${a.filePath}`)].join(`
`)].join(" "))}function s(){return e.some(a=>pe(a).includes("clientRouting"))}}function Qo({pageFilesClientSide:e,pageFilesServerSide:t,isHtmlOnly:n,isClientRouting:r}){let i=[];const s=t.filter(a=>!e.includes(a)),o=[];if(o.push(...e.map(a=>({id:a.filePath,onlyAssets:!1,eagerlyImported:!1}))),o.push(...s.map(a=>({id:a.filePath,onlyAssets:!0,eagerlyImported:!1}))),n)i=e.map(a=>a.filePath);else{const a=Xo(r);o.push({id:a,onlyAssets:!1,eagerlyImported:!1}),i=[a]}return{clientEntries:i,clientDependencies:o}}function Xo(e){return e?"@@vike/dist/client/runtime-client-routing/entry.js":"@@vike/dist/client/runtime-server-routing/entry.js"}function ea(e,t){let n=yt(e,t);const r=Kn(e,t),{isHtmlOnly:i,isClientRouting:s}=Zo({pageFilesClientSide:n,pageFilesServerSide:r,pageId:t});i&&(n=n.filter(l=>l.isEnv("CLIENT_ONLY")&&!pe(l).includes("render")),n=na(n));const{clientEntries:o,clientDependencies:a}=Qo({pageFilesClientSide:n,pageFilesServerSide:r,isHtmlOnly:i,isClientRouting:s});return{isHtmlOnly:i,isClientRouting:s,clientEntries:o,clientDependencies:a,pageFilesClientSide:n,pageFilesServerSide:r}}async function ta(e,t,{sharedPageFilesAlreadyLoaded:n}){const r=yt(e,t);await Promise.all(r.map(async i=>{c(i.isEnv("CLIENT_ONLY")||i.isEnv("CLIENT_AND_SERVER")),await i.loadExportNames?.()}))}function na(e){const t=[];for(const n of e)if(t.push(n),pe(n).includes("overrideDefaultPages"))break;return t}function ra(e,t,n){if(e){const r=ae(e,"clientRouting","boolean")?.value??!1;return{isClientRuntimeLoaded:ae(e,"isClientRuntimeLoaded","boolean")?.value??!1,isClientRouting:r}}else{const{isHtmlOnly:r,isClientRouting:i}=ea(t,n);return{isClientRuntimeLoaded:!r,isClientRouting:i}}}async function nt(e,t){await ta(t._pageFilesAll,e,{sharedPageFilesAlreadyLoaded:!1});const n=Ir(t._globalContext._pageConfigs,e),{isClientRuntimeLoaded:r,isClientRouting:i}=ra(n,t._pageFilesAll,e);return r&&i}function ia(e){return e.replace(/[/\-\\^$*+?.()|[\]{}]/g,"\\$&")}const jr="@",rt=":";function sa(e,t="Invalid"){let n=`${t} Route String ${X(e)}`;b(e!=="",`${n} (empty string): set it to ${X("/")} instead`),b(["/","*"].includes(e[0]),`${n}: it should start with ${X("/")} or ${X("*")}`),b(!e.includes("**"),`${n}: set it to ${X(e.split("**").join("*"))} instead`)}function it(e,t){sa(e);const n=Pt(e),r=n.map(d=>d.param?"[^/]+":d.glob?".*":ia(d.static)).map(d=>`(${d})`).join(""),i=new RegExp(`^${r}/?$`),s=t.match(i);if(!s)return null;const o={},[a,...l]=s;let u=0;const f=n.filter(d=>d.glob).length>1;return n.forEach((d,h)=>{let p=l[h];if(d.param&&(o[d.param]=p),d.glob){const g=`*${f?++u:""}`;o[g]=p}}),{routeParams:o}}function Pt(e){const t=[],n=i=>{const s=t[t.length-1];s?.static?s.static+=i:t.push({static:i})},r=e.split("/");return r.forEach((i,s)=>{s!==0&&n("/"),aa(i)?(L(!i.startsWith(rt),`Outdated Route String ${X(e)}, use ${X(e.split(rt).join(jr))} instead`,{onlyOnce:!0}),t.push({param:i.slice(1)})):i==="*"&&s===r.length-1&&e!=="*"&&e!=="/*"?t.push({glob:!0}):i.split("*").forEach((o,a)=>{a!==0&&t.push({glob:!0}),o!==""&&n(o)})}),t}function oa(e){const t=[];return Pt(e).forEach(r=>{r.param&&t.push(r.param)}),t}function ke(e){const t=Pt(e),n=a=>a?.split("/").filter(Boolean).length||0;let r=0;for(const a of t){if(!a.static)break;r+=n(a.static)}const i=t.map(a=>n(a.static)).reduce((a,l)=>a+l,0),s=t.filter(a=>a.param).length,o=t.filter(a=>a.glob).length;return{numberOfStaticPartsBeginning:r,numberOfStaticParts:i,numberOfParams:s,numberOfGlobs:o}}function aa(e){return e.startsWith(jr)||e.startsWith(rt)}function Xt(e){const n=it(e,e);return c(n),Object.keys(n.routeParams).length===0}function X(e){return ee()?`'${e}'`:(e===""&&(e="''"),m.cyan(e))}function la(e){e.sort(ua).sort(Q(t=>t.routeType==="FUNCTION"&&!!t.precedence&&t.precedence<0)).sort(Q(t=>t.routeType==="STRING"&&Xt(t.routeString)===!1)).sort(Q(t=>t.routeType==="FUNCTION"&&!t.precedence)).sort(Q(t=>t.routeType==="STRING"&&Xt(t.routeString)===!0)).sort(Q(t=>t.routeType==="FILESYSTEM")).sort(Q(t=>t.routeType==="FUNCTION"&&!!t.precedence&&t.precedence>0))}function ua(e,t){{const n=e.precedence??0,r=t.precedence??0;if(n!==r)return n>r?-1:1}if(!t.routeString||!e.routeString)return 0;{const r=Ee(i=>ke(i).numberOfStaticPartsBeginning)(e.routeString,t.routeString);if(r!==0)return r}{const r=Ee(i=>ke(i).numberOfStaticParts)(e.routeString,t.routeString);if(r!==0)return r}{const r=bo(i=>ke(i).numberOfGlobs)(e.routeString,t.routeString);if(r!==0)return r}{const r=Ee(i=>ke(i).numberOfParams)(e.routeString,t.routeString);if(r!==0)return r}return 0}function ca(e,t){if(!ye(e))return!1;for(const n of Object.keys(e))if(!t.includes(n))return!1;return!0}async function fa(e){const t={};if(!e._globalContext._onBeforeRouteHook)return null;const n=await da(e._globalContext._onBeforeRouteHook,e);return n&&(C(t,n),P(t,"pageId","string")||P(t,"pageId","null"))?(P(t,"routeParams")?c(P(t,"routeParams","object")):C(t,{routeParams:{}}),C(t,{_routingProvidedByOnBeforeRouteHook:!0}),t):(C(t,{_routingProvidedByOnBeforeRouteHook:!1}),t)}async function da(e,t){let{hookReturn:n}=Vn(e,t._globalContext,t,dt);Or(n,`The onBeforeRoute() hook ${e.hookFilePath}`),n=await n;const r=`The onBeforeRoute() hook defined by ${e.hookFilePath}`;if(b(n==null||ca(n,["pageContext"])&&P(n,"pageContext"),`${r} should return ${m.cyan("null")}, ${m.cyan("undefined")}, or a plain JavaScript object ${m.cyan("{ pageContext: { /* ... */ } }")}`),n==null)return null;if(b(P(n,"pageContext","object"),`${r} returned ${m.cyan("{ pageContext }")} but pageContext should be a plain JavaScript object.`),P(n.pageContext,"pageId")&&!P(n.pageContext,"pageId","null")){const o=`${r} returned ${m.cyan("{ pageContext: { pageId } }")} but ${m.cyan("pageId")} should be`;b(P(n.pageContext,"pageId","string"),`${o} a string or null`),b(t._globalContext._allPageIds.includes(n.pageContext.pageId),`${o} ${Ss(t._globalContext._allPageIds.map(a=>m.cyan(a)),"or")}`)}P(n.pageContext,"routeParams")&&Er(n.pageContext,`${r} returned ${m.cyan("{ pageContext: { routeParams } }")} but routeParams should`);const i=o=>`${r} returned ${m.cyan(`{ pageContext: { ${o} } }`)} which is deprecated. Return ${m.cyan("{ pageContext: { urlLogical } }")} instead.`;P(n.pageContext,"url")&&(L(!1,i("url"),{onlyOnce:!0}),n.pageContext.urlLogical=n.pageContext.url,delete n.pageContext.url),P(n.pageContext,"urlOriginal")&&(L(!1,i("urlOriginal"),{onlyOnce:!0}),n.pageContext.urlLogical=n.pageContext.urlOriginal,delete n.pageContext.urlOriginal),P(n.pageContext,"urlLogical")&&fs(n.pageContext.urlLogical,`${r} returned ${m.cyan("{ pageContext: { urlLogical } }")} and ${m.cyan("urlLogical")}`),ir(n.pageContext,{hookFilePath:e.hookFilePath,hookName:"onBeforeRoute"});const s={};return C(s,n.pageContext),s}ee()&&Lr();async function Dr(e,t){const n={};{const a=await fa(e);if(a){if(a._routingProvidedByOnBeforeRouteHook)return c(a.pageId),a;C(n,a)}C(e,a)}const r=e._globalContext._allPageIds;b(r.length>0,"No page found. You must create at least one page."),c(e._globalContext._pageFilesAll.length>0||e._globalContext._pageConfigs.length>0);const{urlPathname:i}=e;c(i.startsWith("/"));const s=[];await Promise.all(e._globalContext._pageRoutes.map(async a=>{const{pageId:l,routeType:u}=a;if(a.routeType==="FILESYSTEM"){const{routeString:f}=a,d=it(f,i);if(d){const{routeParams:h}=d;s.push({pageId:l,routeParams:h,routeString:f,routeType:u})}return}if(a.routeType==="STRING"){const{routeString:f}=a,d=it(f,i);if(d){const{routeParams:h}=d;c(u==="STRING"),s.push({pageId:l,routeString:f,routeParams:h,routeType:u})}return}if(a.routeType==="FUNCTION"){const{routeFunction:f,routeFunctionFilePath:d}=a,h=await Lo(f,e,d);if(h){const{routeParams:p,precedence:g}=h;s.push({pageId:l,precedence:g,routeParams:p,routeType:u})}return}c(!1)})),la(s);const o=s[0]??null;if(C(n,{_routeMatch:o}),!o)return C(n,{pageId:null,routeParams:{}}),n;{const{routeParams:a}=o;c(ye(a)),C(n,{pageId:o.pageId,routeParams:o.routeParams})}return n}const Hr=V("runtime-client-routing/getPageContextCurrent.ts",{pageContextCurrent:null});function Nr(){const{pageContextCurrent:e}=Hr;return e}function en(e){Hr.pageContextCurrent=e}const Ie=5e3,tn={staticAssets:"hover",pageContext:Ie},st={staticAssets:"hover",pageContext:!1},ha=st;function Ct(e,t){let n=ha;if("prefetchLinks"in e.exports&&b(!1,"`export { prefetchLinks }` is deprecated, use `export { prefetchStaticAssets }` instead."),"prefetchStaticAssets"in e.exports){const r=e.exports.prefetchStaticAssets;n.staticAssets=r}if("prefetch"in e.exports){const{prefetch:r}=e.exports;r===!0&&(n=tn),r===!1&&(n=st),Object.assign(n,r),n.pageContext===!0&&(n.pageContext=Ie)}if(n.staticAssets,t){{let r=t.getAttribute("data-prefetch");r!==null&&(r===""&&(r="true"),r==="true"&&(n=tn),r==="false"&&(n=st))}{let r=t.getAttribute("data-prefetch-static-assets");r!==null&&(r==="false"&&(n.staticAssets=!1),n.staticAssets=r)}{let r=t.getAttribute("data-prefetch-page-context");if(r!==null){r===""&&(r="true"),r==="true"&&(n.pageContext=Ie),r==="false"&&(n.pageContext=!1);const i=parseInt(r,10);Number.isNaN(i)||(n.pageContext=i)}}}return n}Lr();const B=V("runtime-client-routing/prefetch.ts",{linkPrefetchHandlerAdded:new WeakSet,addLinkPrefetchHandlers_debounce:null,mutationObserver:new MutationObserver(vt),linkTags:document.getElementsByTagName("A"),prefetchedPageContexts:{}});function ga(e){if(!Ct(e,null).pageContext)return null;const n=kt(e.urlPathname),r=B.prefetchedPageContexts[n];return!r||r.result.is404ServerSideRouted||Wr(r)?null:r.result.pageContextFromHooksServer}async function pa(e){try{await Fr(e.pageId,e._pageFilesAll,e._globalContext._pageConfigs,e._globalContext._pageConfigGlobal)}catch(t){if(St(t))at(t,!0);else throw t}}async function ma(e,t){const n=await Xe(e,!1);Vr(e,n,t)}function nn(e,t){Rt()&&Vr(e,t,null)}function Vr(e,t,n){n===null&&(n=ya());const r=kt(e.urlPathname);c(Rt()),B.prefetchedPageContexts[r]={resultFetchedAt:Date.now(),resultMaxAge:n,result:t}}function ya(){const e=Nr();if(!e)return 1/0;const t=Ct(e,null);return typeof t.pageContext=="number"?t.pageContext:Ie}function vt(){B.addLinkPrefetchHandlers_debounce&&clearTimeout(B.addLinkPrefetchHandlers_debounce),B.addLinkPrefetchHandlers_debounce=setTimeout(()=>{"requestIdleCallback"in window?requestIdleCallback(rn,{timeout:300}):setTimeout(rn,150)},250)}function Dl(){vt()}function ba(){B.mutationObserver.observe(document.body,{childList:!0,subtree:!0})}function wa(){B.mutationObserver.disconnect()}function rn(){for(let e of B.linkTags){if(B.linkPrefetchHandlerAdded.has(e)||(B.linkPrefetchHandlerAdded.add(e),_r(e)))continue;e.addEventListener("mouseover",()=>{Ge(e,"hover")},{passive:!0}),e.addEventListener("touchstart",()=>{Ge(e,"hover")},{passive:!0}),new IntersectionObserver(n=>{n.forEach(r=>{r.isIntersecting&&Ge(e,"viewport")})}).observe(e)}}async function Ge(e,t){let n;const r=Nr();if(r)n=Ct(r,e);else if(Rt())n={staticAssets:"hover",pageContext:1/0};else return;if(_r(e))return;const i=e.getAttribute("href"),s=await xa(i);s?.pageId&&(c(P(s,"pageId","string")),await nt(s.pageId,s)&&await Promise.all([(async()=>{n.staticAssets===t&&await pa(s)})(),(async()=>{if(t!=="viewport"&&n.pageContext){const o=kt(i),a=B.prefetchedPageContexts[o];if(!a||Wr(a)){const l=n.pageContext;await ma(s,l)}}})()]))}function Wr(e){return Date.now()-e.resultFetchedAt>e.resultMaxAge}async function xa(e){const t=await $r(e);let n;try{n=await Dr(t)}catch{return null}return C(t,n),t}function kt(e){return e.startsWith("#")&&(e="/"),c(e.startsWith("/"),{urlPathname:e}),e.split("#")[0]}function Rt(){return"_isBrilloutDocpress"in window}async function Sa(e,t){let n=null;n=qe(e,"render");{const r=qe(e,"onRenderClient");r&&(n=r)}if(!n){const r=Pa(e);if(c(r),e._globalContext._pageConfigs.length>0)b(!1,`No onRenderClient() hook defined for URL '${r}', but it's needed, see https://vike.dev/onRenderClient`);else{const i=e._pageFilesLoaded.filter(o=>o.fileType===".page.client");let s;i.length===0?s="No file `*.page.client.*` found for URL "+r:s="One of the following files should export a render() hook: "+i.map(o=>o.filePath).join(" "),b(!1,s)}}await Nn(n,e,t)}function Pa(e){let t;try{t=e.urlPathname??e.urlOriginal}catch{}return t=t??window.location.href,t}function ze(e){return be(window.location.href,e)}const oe=V("history.ts",{monkeyPatched:!1,previous:void 0});ka();oe.previous=It();function Br(){if(le(window.history.state))return;const e={vike:{timestamp:$t(),scrollPosition:Et(),triggeredBy:"browser"}};Tt(e)}function Ot(){const e=window.history.state;return Lt(e),e}function Et(){return{x:window.scrollX,y:window.scrollY}}function $t(){return new Date().getTime()}function sn(){const e=Et();if(!le(window.history.state))return;const t=Ot();Tt({...t,vike:{...t.vike,scrollPosition:e}})}function Ca(e,t){if(t)Tt(Ot(),e);else{const n={vike:{timestamp:$t(),scrollPosition:null,triggeredBy:"vike"}};window.history.pushState(n,"",e)}}function Tt(e,t){const n=t??null;window.history.replaceState(e,"",n),Lt(window.history.state)}function ot(e,t){History.prototype.replaceState.bind(window.history)(e,"",t)}function va(){oe.monkeyPatched||(oe.monkeyPatched=!0,["pushState","replaceState"].forEach(e=>{const t=window.history[e].bind(window.history);window.history[e]=(n={},...r)=>{b(n==null||F(n),`history.${e}(state) argument state must be an object`);const i=le(n)?n:{...n,vike:{scrollPosition:Et(),timestamp:$t(),triggeredBy:"user"}};t(i,...r),Lt(window.history.state),oe.previous=It(),queueMicrotask(()=>{le(window.history.state)||(Object.assign(i,window.history.state),ot(i))})}}))}function le(e){return!!e?.vike}function Lt(e){le(e)||c(!1,{state:e})}function It(){return{url:ze(),state:Ot()}}function Hl(){const{previous:e}=oe,t=le(window.history.state),n=window.history.state===null;if(!t&&!n)return J(ze()),{skip:!0};t||Br();const r=It();return oe.previous=r,n?{skip:!0}:{previous:e,current:r}}function ka(){va(),Br()}function zr(e){window.addEventListener("visibilitychange",()=>{document.visibilityState==="hidden"&&e()})}function Ra(e){window.addEventListener("visibilitychange",()=>{document.visibilityState==="visible"&&e()})}function Oa(e){return new Promise(t=>setTimeout(t,e))}function Ea(e,t){let n=!1;return()=>{n||(n=!0,setTimeout(()=>{n=!1,e()},t))}}function $a(e,t){if(!e&&t&&La(t)){Ta(t);return}if(e&&"x"in e){Ur(e);return}if(e?.preserveScroll)return;const n=Aa();Ia(n)}function Ta(e){const t=window.history.state;ot(null,e),c(window.history.state===null),window.location.replace(e),ot(t,e)}function La(e){return e.includes("#")&&e.includes(":~:text")}function Ia(e){if(!e)on();else{const t=decodeURIComponent(e),n=document.getElementById(t)||document.getElementsByName(t)[0];n?(n.scrollIntoView(),n.focus()):e==="top"&&on()}}function on(){Ur({x:0,y:0})}function Ur(e){const t=()=>{window.scrollTo(e.x,e.y)},n=()=>window.scrollX===e.x&&window.scrollY===e.y;n()||(t(),!n()&&requestAnimationFrame(()=>{t(),!n()&&setTimeout(async()=>{if(t(),n())return;const r=new Date().getTime();for(;;)if(await Oa(10),t(),n()||new Date().getTime()-r>100)return},0)}))}function Aa(){let{hash:e}=window.location;return e===""?null:(c(e.startsWith("#")),e=e.slice(1),e)}function Nl(){window.addEventListener("scroll",Ea(sn,Math.ceil(1e3/3)),{passive:!0}),zr(sn)}const Gr=V("runtime-client-routing/scrollRestoration.ts",{});function Vl(){an(),zr(an),Ra(()=>Gr.initialRenderIsDone&&Kr())}function Fa(){Gr.initialRenderIsDone=!0,Kr()}function Kr(){"scrollRestoration"in window.history&&(window.history.scrollRestoration="manual")}function an(){"scrollRestoration"in window.history&&(window.history.scrollRestoration="auto")}function Ke(e){F(e)&&e.isAlreadyLogged||console.error(e)}const T=V("runtime-client-routing/renderPageClient.ts",(()=>{const{promise:e,resolve:t}=gt();return{renderCounter:0,firstRenderStartPromise:e,firstRenderStartPromiseResolve:t}})()),{firstRenderStartPromise:Wl}=T;async function ln(e){Ni("renderPageClient()");const{urlOriginal:t=ze(),overwriteLastHistoryEntry:n=!1,isBackwardNavigation:r=!1,isHistoryNavigation:i=!1,doNotRenderIfSamePage:s,isClientSideNavigation:o=!0,pageContextInitClient:a,pageContextsAborted:l=[]}=e;let{scrollTarget:u}=e;const{previousPageContext:f}=T;wa();const{isRenderOutdated:d,setHydrationCanBeAborted:h,isFirstRender:p}=Da(),g={urlOriginal:t,isBackwardNavigation:r,isHistoryNavigation:i,pageContextsAborted:l,isClientSideNavigation:o,pageContextInitClient:a,isFirstRender:p};if(T.clientRoutingIsDisabled){J(t);return}if(T.firstRenderStartPromiseResolve(),d())return;return await k();async function k(){const y=async x=>{await v({err:x})},w=await un(!1,g);if(d())return;if(T.isFirstRenderDone&&(c(f),!T.isTransitioning)){T.isTransitioning=!0;const x=Ze("onPageTransitionStart",f);try{await Le(x,w,ar)}catch(E){await y(E);return}if(d())return}if(p){const x=Ls();c(!("urlOriginal"in x)),C(w,x),nn(w,{pageContextFromHooksServer:x})}{let x;try{x=await Dr(w)}catch(E){await y(E);return}if(d())return;if(c(!("urlOriginal"in x)),p){const{pageId:E,routeParams:O,...R}=x;C(w,R),c(P(w,"routeParams","string{}"))}else C(w,x);if(!p){if(!x.pageId){J(t);return}const E=await nt(x.pageId,w);if(d())return;if(!E){J(t);return}const O=x.pageId&&f?.pageId&&x.pageId===f.pageId;if(s&&O)return}}c(P(w,"pageId","string"));const $=await fn(w,p,d);if(!$.skip){if("err"in $){await y($.err);return}if(ne(w,$.pageContext),en(w),w.exports.hydrationCanBeAborted?h():L(!Ui(),"You seem to be using React; we recommend setting hydrationCanBeAborted to true, see https://vike.dev/hydrationCanBeAborted",{onlyOnce:!0}),!d())if(p){c(P(w,"_hasPageContextFromServer","true"));let x;try{x=await Is(w)}catch(E){await y(E);return}return d()?void 0:(ne(w,x),await H(w))}else{let x;const E=ga(w);if(E)x=E;else try{const R=await Xe(w,!1);if(R.is404ServerSideRouted)return;x=R.pageContextFromHooksServer,nn(w,R)}catch(R){await y(R);return}if(d())return;c(!("urlOriginal"in x)),C(w,x);let O;try{O=await Jt(w,!1)}catch(R){await y(R);return}return d()?void 0:(ne(w,O),await H(w))}}}async function v(y){const{err:w}=y;c(w),Mt(w)||Ke(w);const $=await un(!0,g);if(d())return;C($,{errorWhileRendering:w});let x;if(Mt(w)){const E=await I(w,$);if(E.skip)return;x=E.pageContextAbort}await j($,y,x)}async function j(y,w,$){const x=A=>{Ke(A)},E=qs(y._pageFilesAll,y._globalContext._pageConfigs);if(!E)throw new Error("No error page defined.");C(y,{pageId:E,routeParams:{}}),$?(c($.abortStatusCode),c(!("urlOriginal"in $)),C(y,$),C(y,{is404:$.abortStatusCode===404})):C(y,{is404:!1});const O=await nt(y.pageId,y);if(d())return;if(!O){J(t);return}const R=await fn(y,p,d);if(R.skip)return;if("err"in R){x(R.err);return}ne(y,R.pageContext),en(y);let ue;try{const A=await Xe(y,!0);if(A.is404ServerSideRouted)return;ue=A.pageContextFromHooksServer}catch(A){x(A);return}if(d())return;c(!("urlOriginal"in ue)),C(y,ue);let Pe;try{Pe=await Jt(y,!0)}catch(A){x(A);return}d()||(ne(y,Pe),await H(y,w))}async function I(y,w){const x=y._pageContextAbort;if(ks(l,w,x),x._urlRewrite)return await ln({...e,scrollTarget:void 0,pageContextsAborted:l}),{skip:!0};if(x._urlRedirect){const E=x._urlRedirect.url;if(E.startsWith("/"))await ln({...e,scrollTarget:void 0,urlOriginal:E,overwriteLastHistoryEntry:!1,pageContextsAborted:l});else return J(E),{skip:!0};return{skip:!0}}return{pageContextAbort:x}}async function H(y,w){const $=async O=>{w?Ke(O):await v({err:O})};if(T.onRenderClientPreviousPromise&&(await T.onRenderClientPreviousPromise,c(T.onRenderClientPreviousPromise===void 0),d()))return;ja(t,n),T.previousPageContext=y,c(T.onRenderClientPreviousPromise===void 0);const x=(async()=>{let O;try{await Sa(y,se)}catch(R){c(R),O=R}return T.onRenderClientPreviousPromise=void 0,T.isFirstRenderDone=!0,O})();T.onRenderClientPreviousPromise=x;const E=await x;if(c(T.onRenderClientPreviousPromise===void 0),!(E&&(await $(E),!w))){if(p&&!E){try{await ht("onHydrationEnd",y,se)}catch(O){if(await $(O),!w)return}if(d(!0))return}if(!d(!0)){if(T.isTransitioning){T.isTransitioning=void 0,c(f);const O=Ze("onPageTransitionEnd",f);try{await Le(O,y,se)}catch(R){if(await $(R),!w)return}if(d(!0))return}if(!u&&f){const O=cn(f),R=cn(y);R!==!1&&O!==!1&&Ha(R,O)&&(u={preserveScroll:!0})}return $a(u,t),Fa(),y._hasPageContextFromServer&&_s(y),ba(),vt(),T.renderedPageContext=y,_a(t),y}}}}async function un(e,{urlOriginal:t,isBackwardNavigation:n,isHistoryNavigation:r,pageContextsAborted:i,isClientSideNavigation:s,pageContextInitClient:o,isFirstRender:a}){const l=T.previousPageContext??null,u=await $r(t);C(u,{isBackwardNavigation:n,isHistoryNavigation:r,isClientSideNavigation:s,isHydration:a&&!e,previousPageContext:l,pageContextsAborted:i,...o}),T.currentPageContext=u,Object.defineProperty(u,"_previousPageContext",{get(){return L(!1,"pageContext._previousPageContext has been renamed pageContext.previousPageContext",{showStackTrace:!0,onlyOnce:!0}),l},enumerable:!1});{const f=vs(i);c(!f||!("urlOriginal"in f)),C(u,f)}return u}function _a(e){window._vike??(window._vike={}),window._vike.fullyRenderedUrl=e}function ja(e,t){ze()!==e&&Ca(e,t)}function at(e,t){T.clientRoutingIsDisabled=!0,c(St(e)),t&&console.log(e),fi(!1,["Failed to fetch static asset.","This usually happens when a new frontend is deployed.","Falling back to Server Routing.","(The next page navigation will use Server Routing instead of Client Routing.)"].filter(Boolean).join(" "),{onlyOnce:!0})}function Da(){const e=++T.renderCounter;c(e>=1);let t=!1;return{isRenderOutdated:i=>e===1&&!t&&!i?!1:e!==T.renderCounter,setHydrationCanBeAborted:()=>{t=!0},isFirstRender:e===1}}function Bl(){return T.renderCounter}function cn(e){const t=e.from.configsStandard.keepScrollPosition;if(!t)return!1;let n=t.value;const r=t.definedAt;c(r);const i=oa(r);return q(n)&&(n=n(e,{configDefinedAt:t.definedAt})),n===!0?[r,...i.map(s=>{const o=e.routeParams[s];return c(o),o})]:n}function Ha(e,t){return e===t?!0:!Array.isArray(e)||!Array.isArray(t)?!1:e.length===t.length&&e.every((n,r)=>e[r]===t[r])}async function fn(e,t,n){let r=!1,i,s;try{s=await Fr(e.pageId,e._pageFilesAll,e._globalContext._pageConfigs,e._globalContext._pageConfigGlobal)}catch(o){if(i=o,r=!0,Na(i,e,t))return{skip:!0}}if(n())return{skip:!0};if(r)return{err:i};C(e,s);try{await ht("onCreatePageContext",e,se)}catch{i=i,r=!0}return n()?{skip:!0}:r?{err:i}:{pageContext:e}}function Na(e,t,n){if(!St(e))return!1;if(n)throw at(e,!1),e;return at(e,!0),J(t.urlOriginal),!0}const S=e=>typeof e=="string",he=()=>{let e,t;const n=new Promise((r,i)=>{e=r,t=i});return n.resolve=e,n.reject=t,n},dn=e=>e==null?"":""+e,Va=(e,t,n)=>{e.forEach(r=>{t[r]&&(n[r]=t[r])})},Wa=/###/g,hn=e=>e&&e.indexOf("###")>-1?e.replace(Wa,"."):e,gn=e=>!e||S(e),me=(e,t,n)=>{const r=S(t)?t.split("."):t;let i=0;for(;i<r.length-1;){if(gn(e))return{};const s=hn(r[i]);!e[s]&&n&&(e[s]=new n),Object.prototype.hasOwnProperty.call(e,s)?e=e[s]:e={},++i}return gn(e)?{}:{obj:e,k:hn(r[i])}},pn=(e,t,n)=>{const{obj:r,k:i}=me(e,t,Object);if(r!==void 0||t.length===1){r[i]=n;return}let s=t[t.length-1],o=t.slice(0,t.length-1),a=me(e,o,Object);for(;a.obj===void 0&&o.length;)s=`${o[o.length-1]}.${s}`,o=o.slice(0,o.length-1),a=me(e,o,Object),a?.obj&&typeof a.obj[`${a.k}.${s}`]<"u"&&(a.obj=void 0);a.obj[`${a.k}.${s}`]=n},Ba=(e,t,n,r)=>{const{obj:i,k:s}=me(e,t,Object);i[s]=i[s]||[],i[s].push(n)},Ae=(e,t)=>{const{obj:n,k:r}=me(e,t);if(n&&Object.prototype.hasOwnProperty.call(n,r))return n[r]},za=(e,t,n)=>{const r=Ae(e,n);return r!==void 0?r:Ae(t,n)},Mr=(e,t,n)=>{for(const r in t)r!=="__proto__"&&r!=="constructor"&&(r in e?S(e[r])||e[r]instanceof String||S(t[r])||t[r]instanceof String?n&&(e[r]=t[r]):Mr(e[r],t[r],n):e[r]=t[r]);return e},te=e=>e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var Ua={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const Ga=e=>S(e)?e.replace(/[&<>"'\/]/g,t=>Ua[t]):e;class Ka{constructor(t){this.capacity=t,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(t){const n=this.regExpMap.get(t);if(n!==void 0)return n;const r=new RegExp(t);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(t,r),this.regExpQueue.push(t),r}}const Ma=[" ",",","?","!",";"],Ja=new Ka(20),Ya=(e,t,n)=>{t=t||"",n=n||"";const r=Ma.filter(o=>t.indexOf(o)<0&&n.indexOf(o)<0);if(r.length===0)return!0;const i=Ja.getRegExp(`(${r.map(o=>o==="?"?"\\?":o).join("|")})`);let s=!i.test(e);if(!s){const o=e.indexOf(n);o>0&&!i.test(e.substring(0,o))&&(s=!0)}return s},lt=(e,t,n=".")=>{if(!e)return;if(e[t])return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0;const r=t.split(n);let i=e;for(let s=0;s<r.length;){if(!i||typeof i!="object")return;let o,a="";for(let l=s;l<r.length;++l)if(l!==s&&(a+=n),a+=r[l],o=i[a],o!==void 0){if(["string","number","boolean"].indexOf(typeof o)>-1&&l<r.length-1)continue;s+=l-s+1;break}i=o}return i},we=e=>e?.replace("_","-"),qa={type:"logger",log(e){this.output("log",e)},warn(e){this.output("warn",e)},error(e){this.output("error",e)},output(e,t){console?.[e]?.apply?.(console,t)}};class Fe{constructor(t,n={}){this.init(t,n)}init(t,n={}){this.prefix=n.prefix||"i18next:",this.logger=t||qa,this.options=n,this.debug=n.debug}log(...t){return this.forward(t,"log","",!0)}warn(...t){return this.forward(t,"warn","",!0)}error(...t){return this.forward(t,"error","")}deprecate(...t){return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}forward(t,n,r,i){return i&&!this.debug?null:(S(t[0])&&(t[0]=`${r}${this.prefix} ${t[0]}`),this.logger[n](t))}create(t){return new Fe(this.logger,{prefix:`${this.prefix}:${t}:`,...this.options})}clone(t){return t=t||this.options,t.prefix=t.prefix||this.prefix,new Fe(this.logger,t)}}var G=new Fe;class Ue{constructor(){this.observers={}}on(t,n){return t.split(" ").forEach(r=>{this.observers[r]||(this.observers[r]=new Map);const i=this.observers[r].get(n)||0;this.observers[r].set(n,i+1)}),this}off(t,n){if(this.observers[t]){if(!n){delete this.observers[t];return}this.observers[t].delete(n)}}emit(t,...n){this.observers[t]&&Array.from(this.observers[t].entries()).forEach(([i,s])=>{for(let o=0;o<s;o++)i(...n)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([i,s])=>{for(let o=0;o<s;o++)i.apply(i,[t,...n])})}}class mn extends Ue{constructor(t,n={ns:["translation"],defaultNS:"translation"}){super(),this.data=t||{},this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(t){this.options.ns.indexOf(t)<0&&this.options.ns.push(t)}removeNamespaces(t){const n=this.options.ns.indexOf(t);n>-1&&this.options.ns.splice(n,1)}getResource(t,n,r,i={}){const s=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,o=i.ignoreJSONStructure!==void 0?i.ignoreJSONStructure:this.options.ignoreJSONStructure;let a;t.indexOf(".")>-1?a=t.split("."):(a=[t,n],r&&(Array.isArray(r)?a.push(...r):S(r)&&s?a.push(...r.split(s)):a.push(r)));const l=Ae(this.data,a);return!l&&!n&&!r&&t.indexOf(".")>-1&&(t=a[0],n=a[1],r=a.slice(2).join(".")),l||!o||!S(r)?l:lt(this.data?.[t]?.[n],r,s)}addResource(t,n,r,i,s={silent:!1}){const o=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator;let a=[t,n];r&&(a=a.concat(o?r.split(o):r)),t.indexOf(".")>-1&&(a=t.split("."),i=n,n=a[1]),this.addNamespaces(n),pn(this.data,a,i),s.silent||this.emit("added",t,n,r,i)}addResources(t,n,r,i={silent:!1}){for(const s in r)(S(r[s])||Array.isArray(r[s]))&&this.addResource(t,n,s,r[s],{silent:!0});i.silent||this.emit("added",t,n,r)}addResourceBundle(t,n,r,i,s,o={silent:!1,skipCopy:!1}){let a=[t,n];t.indexOf(".")>-1&&(a=t.split("."),i=r,r=n,n=a[1]),this.addNamespaces(n);let l=Ae(this.data,a)||{};o.skipCopy||(r=JSON.parse(JSON.stringify(r))),i?Mr(l,r,s):l={...l,...r},pn(this.data,a,l),o.silent||this.emit("added",t,n,r)}removeResourceBundle(t,n){this.hasResourceBundle(t,n)&&delete this.data[t][n],this.removeNamespaces(n),this.emit("removed",t,n)}hasResourceBundle(t,n){return this.getResource(t,n)!==void 0}getResourceBundle(t,n){return n||(n=this.options.defaultNS),this.getResource(t,n)}getDataByLanguage(t){return this.data[t]}hasLanguageSomeTranslations(t){const n=this.getDataByLanguage(t);return!!(n&&Object.keys(n)||[]).find(i=>n[i]&&Object.keys(n[i]).length>0)}toJSON(){return this.data}}var Jr={processors:{},addPostProcessor(e){this.processors[e.name]=e},handle(e,t,n,r,i){return e.forEach(s=>{t=this.processors[s]?.process(t,n,r,i)??t}),t}};const Yr=Symbol("i18next/PATH_KEY");function Za(){const e=[],t=Object.create(null);let n;return t.get=(r,i)=>(n?.revoke?.(),i===Yr?e:(e.push(i),n=Proxy.revocable(r,t),n.proxy)),Proxy.revocable(Object.create(null),t).proxy}function ut(e,t){const{[Yr]:n}=e(Za());return n.join(t?.keySeparator??".")}const yn={},Me=e=>!S(e)&&typeof e!="boolean"&&typeof e!="number";class _e extends Ue{constructor(t,n={}){super(),Va(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],t,this),this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=G.create("translator")}changeLanguage(t){t&&(this.language=t)}exists(t,n={interpolation:{}}){const r={...n};if(t==null)return!1;const i=this.resolve(t,r);if(i?.res===void 0)return!1;const s=Me(i.res);return!(r.returnObjects===!1&&s)}extractFromKey(t,n){let r=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;r===void 0&&(r=":");const i=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator;let s=n.ns||this.options.defaultNS||[];const o=r&&t.indexOf(r)>-1,a=!this.options.userDefinedKeySeparator&&!n.keySeparator&&!this.options.userDefinedNsSeparator&&!n.nsSeparator&&!Ya(t,r,i);if(o&&!a){const l=t.match(this.interpolator.nestingRegexp);if(l&&l.length>0)return{key:t,namespaces:S(s)?[s]:s};const u=t.split(r);(r!==i||r===i&&this.options.ns.indexOf(u[0])>-1)&&(s=u.shift()),t=u.join(i)}return{key:t,namespaces:S(s)?[s]:s}}translate(t,n,r){let i=typeof n=="object"?{...n}:n;if(typeof i!="object"&&this.options.overloadTranslationOptionHandler&&(i=this.options.overloadTranslationOptionHandler(arguments)),typeof i=="object"&&(i={...i}),i||(i={}),t==null)return"";typeof t=="function"&&(t=ut(t,{...this.options,...i})),Array.isArray(t)||(t=[String(t)]);const s=i.returnDetails!==void 0?i.returnDetails:this.options.returnDetails,o=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,{key:a,namespaces:l}=this.extractFromKey(t[t.length-1],i),u=l[l.length-1];let f=i.nsSeparator!==void 0?i.nsSeparator:this.options.nsSeparator;f===void 0&&(f=":");const d=i.lng||this.language,h=i.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(d?.toLowerCase()==="cimode")return h?s?{res:`${u}${f}${a}`,usedKey:a,exactUsedKey:a,usedLng:d,usedNS:u,usedParams:this.getUsedParamsDetails(i)}:`${u}${f}${a}`:s?{res:a,usedKey:a,exactUsedKey:a,usedLng:d,usedNS:u,usedParams:this.getUsedParamsDetails(i)}:a;const p=this.resolve(t,i);let g=p?.res;const k=p?.usedKey||a,v=p?.exactUsedKey||a,j=["[object Number]","[object Function]","[object RegExp]"],I=i.joinArrays!==void 0?i.joinArrays:this.options.joinArrays,H=!this.i18nFormat||this.i18nFormat.handleAsObject,y=i.count!==void 0&&!S(i.count),w=_e.hasDefaultValue(i),$=y?this.pluralResolver.getSuffix(d,i.count,i):"",x=i.ordinal&&y?this.pluralResolver.getSuffix(d,i.count,{ordinal:!1}):"",E=y&&!i.ordinal&&i.count===0,O=E&&i[`defaultValue${this.options.pluralSeparator}zero`]||i[`defaultValue${$}`]||i[`defaultValue${x}`]||i.defaultValue;let R=g;H&&!g&&w&&(R=O);const ue=Me(R),Pe=Object.prototype.toString.apply(R);if(H&&R&&ue&&j.indexOf(Pe)<0&&!(S(I)&&Array.isArray(R))){if(!i.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const A=this.options.returnedObjectHandler?this.options.returnedObjectHandler(k,R,{...i,ns:l}):`key '${a} (${this.language})' returned an object instead of string.`;return s?(p.res=A,p.usedParams=this.getUsedParamsDetails(i),p):A}if(o){const A=Array.isArray(R),W=A?[]:{},At=A?v:k;for(const z in R)if(Object.prototype.hasOwnProperty.call(R,z)){const K=`${At}${o}${z}`;w&&!g?W[z]=this.translate(K,{...i,defaultValue:Me(O)?O[z]:void 0,joinArrays:!1,ns:l}):W[z]=this.translate(K,{...i,joinArrays:!1,ns:l}),W[z]===K&&(W[z]=R[z])}g=W}}else if(H&&S(I)&&Array.isArray(g))g=g.join(I),g&&(g=this.extendTranslation(g,t,i,r));else{let A=!1,W=!1;!this.isValidLookup(g)&&w&&(A=!0,g=O),this.isValidLookup(g)||(W=!0,g=a);const z=(i.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&W?void 0:g,K=w&&O!==g&&this.options.updateMissing;if(W||A||K){if(this.logger.log(K?"updateKey":"missingKey",d,u,a,K?O:g),o){const N=this.resolve(a,{...i,keySeparator:!1});N&&N.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let ce=[];const Ce=this.languageUtils.getFallbackCodes(this.options.fallbackLng,i.lng||this.language);if(this.options.saveMissingTo==="fallback"&&Ce&&Ce[0])for(let N=0;N<Ce.length;N++)ce.push(Ce[N]);else this.options.saveMissingTo==="all"?ce=this.languageUtils.toResolveHierarchy(i.lng||this.language):ce.push(i.lng||this.language);const Ft=(N,Z,fe)=>{const _t=w&&fe!==g?fe:z;this.options.missingKeyHandler?this.options.missingKeyHandler(N,u,Z,_t,K,i):this.backendConnector?.saveMissing&&this.backendConnector.saveMissing(N,u,Z,_t,K,i),this.emit("missingKey",N,u,Z,g)};this.options.saveMissing&&(this.options.saveMissingPlurals&&y?ce.forEach(N=>{const Z=this.pluralResolver.getSuffixes(N,i);E&&i[`defaultValue${this.options.pluralSeparator}zero`]&&Z.indexOf(`${this.options.pluralSeparator}zero`)<0&&Z.push(`${this.options.pluralSeparator}zero`),Z.forEach(fe=>{Ft([N],a+fe,i[`defaultValue${fe}`]||O)})}):Ft(ce,a,O))}g=this.extendTranslation(g,t,i,p,r),W&&g===a&&this.options.appendNamespaceToMissingKey&&(g=`${u}${f}${a}`),(W||A)&&this.options.parseMissingKeyHandler&&(g=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${u}${f}${a}`:a,A?g:void 0,i))}return s?(p.res=g,p.usedParams=this.getUsedParamsDetails(i),p):g}extendTranslation(t,n,r,i,s){if(this.i18nFormat?.parse)t=this.i18nFormat.parse(t,{...this.options.interpolation.defaultVariables,...r},r.lng||this.language||i.usedLng,i.usedNS,i.usedKey,{resolved:i});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init({...r,interpolation:{...this.options.interpolation,...r.interpolation}});const l=S(t)&&(r?.interpolation?.skipOnVariables!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let u;if(l){const d=t.match(this.interpolator.nestingRegexp);u=d&&d.length}let f=r.replace&&!S(r.replace)?r.replace:r;if(this.options.interpolation.defaultVariables&&(f={...this.options.interpolation.defaultVariables,...f}),t=this.interpolator.interpolate(t,f,r.lng||this.language||i.usedLng,r),l){const d=t.match(this.interpolator.nestingRegexp),h=d&&d.length;u<h&&(r.nest=!1)}!r.lng&&i&&i.res&&(r.lng=this.language||i.usedLng),r.nest!==!1&&(t=this.interpolator.nest(t,(...d)=>s?.[0]===d[0]&&!r.context?(this.logger.warn(`It seems you are nesting recursively key: ${d[0]} in key: ${n[0]}`),null):this.translate(...d,n),r)),r.interpolation&&this.interpolator.reset()}const o=r.postProcess||this.options.postProcess,a=S(o)?[o]:o;return t!=null&&a?.length&&r.applyPostProcessor!==!1&&(t=Jr.handle(a,t,n,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...i,usedParams:this.getUsedParamsDetails(r)},...r}:r,this)),t}resolve(t,n={}){let r,i,s,o,a;return S(t)&&(t=[t]),t.forEach(l=>{if(this.isValidLookup(r))return;const u=this.extractFromKey(l,n),f=u.key;i=f;let d=u.namespaces;this.options.fallbackNS&&(d=d.concat(this.options.fallbackNS));const h=n.count!==void 0&&!S(n.count),p=h&&!n.ordinal&&n.count===0,g=n.context!==void 0&&(S(n.context)||typeof n.context=="number")&&n.context!=="",k=n.lngs?n.lngs:this.languageUtils.toResolveHierarchy(n.lng||this.language,n.fallbackLng);d.forEach(v=>{this.isValidLookup(r)||(a=v,!yn[`${k[0]}-${v}`]&&this.utils?.hasLoadedNamespace&&!this.utils?.hasLoadedNamespace(a)&&(yn[`${k[0]}-${v}`]=!0,this.logger.warn(`key "${i}" for languages "${k.join(", ")}" won't get resolved as namespace "${a}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),k.forEach(j=>{if(this.isValidLookup(r))return;o=j;const I=[f];if(this.i18nFormat?.addLookupKeys)this.i18nFormat.addLookupKeys(I,f,j,v,n);else{let y;h&&(y=this.pluralResolver.getSuffix(j,n.count,n));const w=`${this.options.pluralSeparator}zero`,$=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(h&&(n.ordinal&&y.indexOf($)===0&&I.push(f+y.replace($,this.options.pluralSeparator)),I.push(f+y),p&&I.push(f+w)),g){const x=`${f}${this.options.contextSeparator||"_"}${n.context}`;I.push(x),h&&(n.ordinal&&y.indexOf($)===0&&I.push(x+y.replace($,this.options.pluralSeparator)),I.push(x+y),p&&I.push(x+w))}}let H;for(;H=I.pop();)this.isValidLookup(r)||(s=H,r=this.getResource(j,v,H,n))}))})}),{res:r,usedKey:i,exactUsedKey:s,usedLng:o,usedNS:a}}isValidLookup(t){return t!==void 0&&!(!this.options.returnNull&&t===null)&&!(!this.options.returnEmptyString&&t==="")}getResource(t,n,r,i={}){return this.i18nFormat?.getResource?this.i18nFormat.getResource(t,n,r,i):this.resourceStore.getResource(t,n,r,i)}getUsedParamsDetails(t={}){const n=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],r=t.replace&&!S(t.replace);let i=r?t.replace:t;if(r&&typeof t.count<"u"&&(i.count=t.count),this.options.interpolation.defaultVariables&&(i={...this.options.interpolation.defaultVariables,...i}),!r){i={...i};for(const s of n)delete i[s]}return i}static hasDefaultValue(t){const n="defaultValue";for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&n===r.substring(0,n.length)&&t[r]!==void 0)return!0;return!1}}class bn{constructor(t){this.options=t,this.supportedLngs=this.options.supportedLngs||!1,this.logger=G.create("languageUtils")}getScriptPartFromCode(t){if(t=we(t),!t||t.indexOf("-")<0)return null;const n=t.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}getLanguagePartFromCode(t){if(t=we(t),!t||t.indexOf("-")<0)return t;const n=t.split("-");return this.formatLanguageCode(n[0])}formatLanguageCode(t){if(S(t)&&t.indexOf("-")>-1){let n;try{n=Intl.getCanonicalLocales(t)[0]}catch{}return n&&this.options.lowerCaseLng&&(n=n.toLowerCase()),n||(this.options.lowerCaseLng?t.toLowerCase():t)}return this.options.cleanCode||this.options.lowerCaseLng?t.toLowerCase():t}isSupportedCode(t){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(t=this.getLanguagePartFromCode(t)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(t)>-1}getBestMatchFromCodes(t){if(!t)return null;let n;return t.forEach(r=>{if(n)return;const i=this.formatLanguageCode(r);(!this.options.supportedLngs||this.isSupportedCode(i))&&(n=i)}),!n&&this.options.supportedLngs&&t.forEach(r=>{if(n)return;const i=this.getScriptPartFromCode(r);if(this.isSupportedCode(i))return n=i;const s=this.getLanguagePartFromCode(r);if(this.isSupportedCode(s))return n=s;n=this.options.supportedLngs.find(o=>{if(o===s)return o;if(!(o.indexOf("-")<0&&s.indexOf("-")<0)&&(o.indexOf("-")>0&&s.indexOf("-")<0&&o.substring(0,o.indexOf("-"))===s||o.indexOf(s)===0&&s.length>1))return o})}),n||(n=this.getFallbackCodes(this.options.fallbackLng)[0]),n}getFallbackCodes(t,n){if(!t)return[];if(typeof t=="function"&&(t=t(n)),S(t)&&(t=[t]),Array.isArray(t))return t;if(!n)return t.default||[];let r=t[n];return r||(r=t[this.getScriptPartFromCode(n)]),r||(r=t[this.formatLanguageCode(n)]),r||(r=t[this.getLanguagePartFromCode(n)]),r||(r=t.default),r||[]}toResolveHierarchy(t,n){const r=this.getFallbackCodes((n===!1?[]:n)||this.options.fallbackLng||[],t),i=[],s=o=>{o&&(this.isSupportedCode(o)?i.push(o):this.logger.warn(`rejecting language code not found in supportedLngs: ${o}`))};return S(t)&&(t.indexOf("-")>-1||t.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&s(this.formatLanguageCode(t)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&s(this.getScriptPartFromCode(t)),this.options.load!=="currentOnly"&&s(this.getLanguagePartFromCode(t))):S(t)&&s(this.formatLanguageCode(t)),r.forEach(o=>{i.indexOf(o)<0&&s(this.formatLanguageCode(o))}),i}}const wn={zero:0,one:1,two:2,few:3,many:4,other:5},xn={select:e=>e===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class Qa{constructor(t,n={}){this.languageUtils=t,this.options=n,this.logger=G.create("pluralResolver"),this.pluralRulesCache={}}addRule(t,n){this.rules[t]=n}clearCache(){this.pluralRulesCache={}}getRule(t,n={}){const r=we(t==="dev"?"en":t),i=n.ordinal?"ordinal":"cardinal",s=JSON.stringify({cleanedCode:r,type:i});if(s in this.pluralRulesCache)return this.pluralRulesCache[s];let o;try{o=new Intl.PluralRules(r,{type:i})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),xn;if(!t.match(/-|_/))return xn;const l=this.languageUtils.getLanguagePartFromCode(t);o=this.getRule(l,n)}return this.pluralRulesCache[s]=o,o}needsPlural(t,n={}){let r=this.getRule(t,n);return r||(r=this.getRule("dev",n)),r?.resolvedOptions().pluralCategories.length>1}getPluralFormsOfKey(t,n,r={}){return this.getSuffixes(t,r).map(i=>`${n}${i}`)}getSuffixes(t,n={}){let r=this.getRule(t,n);return r||(r=this.getRule("dev",n)),r?r.resolvedOptions().pluralCategories.sort((i,s)=>wn[i]-wn[s]).map(i=>`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${i}`):[]}getSuffix(t,n,r={}){const i=this.getRule(t,r);return i?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${i.select(n)}`:(this.logger.warn(`no plural rule found for: ${t}`),this.getSuffix("dev",n,r))}}const Sn=(e,t,n,r=".",i=!0)=>{let s=za(e,t,n);return!s&&i&&S(n)&&(s=lt(e,n,r),s===void 0&&(s=lt(t,n,r))),s},Je=e=>e.replace(/\$/g,"$$$$");class Xa{constructor(t={}){this.logger=G.create("interpolator"),this.options=t,this.format=t?.interpolation?.format||(n=>n),this.init(t)}init(t={}){t.interpolation||(t.interpolation={escapeValue:!0});const{escape:n,escapeValue:r,useRawValueToEscape:i,prefix:s,prefixEscaped:o,suffix:a,suffixEscaped:l,formatSeparator:u,unescapeSuffix:f,unescapePrefix:d,nestingPrefix:h,nestingPrefixEscaped:p,nestingSuffix:g,nestingSuffixEscaped:k,nestingOptionsSeparator:v,maxReplaces:j,alwaysFormat:I}=t.interpolation;this.escape=n!==void 0?n:Ga,this.escapeValue=r!==void 0?r:!0,this.useRawValueToEscape=i!==void 0?i:!1,this.prefix=s?te(s):o||"{{",this.suffix=a?te(a):l||"}}",this.formatSeparator=u||",",this.unescapePrefix=f?"":d||"-",this.unescapeSuffix=this.unescapePrefix?"":f||"",this.nestingPrefix=h?te(h):p||te("$t("),this.nestingSuffix=g?te(g):k||te(")"),this.nestingOptionsSeparator=v||",",this.maxReplaces=j||1e3,this.alwaysFormat=I!==void 0?I:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const t=(n,r)=>n?.source===r?(n.lastIndex=0,n):new RegExp(r,"g");this.regexp=t(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=t(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=t(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(t,n,r,i){let s,o,a;const l=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},u=p=>{if(p.indexOf(this.formatSeparator)<0){const j=Sn(n,l,p,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(j,void 0,r,{...i,...n,interpolationkey:p}):j}const g=p.split(this.formatSeparator),k=g.shift().trim(),v=g.join(this.formatSeparator).trim();return this.format(Sn(n,l,k,this.options.keySeparator,this.options.ignoreJSONStructure),v,r,{...i,...n,interpolationkey:k})};this.resetRegExp();const f=i?.missingInterpolationHandler||this.options.missingInterpolationHandler,d=i?.interpolation?.skipOnVariables!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:p=>Je(p)},{regex:this.regexp,safeValue:p=>this.escapeValue?Je(this.escape(p)):Je(p)}].forEach(p=>{for(a=0;s=p.regex.exec(t);){const g=s[1].trim();if(o=u(g),o===void 0)if(typeof f=="function"){const v=f(t,s,i);o=S(v)?v:""}else if(i&&Object.prototype.hasOwnProperty.call(i,g))o="";else if(d){o=s[0];continue}else this.logger.warn(`missed to pass in variable ${g} for interpolating ${t}`),o="";else!S(o)&&!this.useRawValueToEscape&&(o=dn(o));const k=p.safeValue(o);if(t=t.replace(s[0],k),d?(p.regex.lastIndex+=o.length,p.regex.lastIndex-=s[0].length):p.regex.lastIndex=0,a++,a>=this.maxReplaces)break}}),t}nest(t,n,r={}){let i,s,o;const a=(l,u)=>{const f=this.nestingOptionsSeparator;if(l.indexOf(f)<0)return l;const d=l.split(new RegExp(`${f}[ ]*{`));let h=`{${d[1]}`;l=d[0],h=this.interpolate(h,o);const p=h.match(/'/g),g=h.match(/"/g);((p?.length??0)%2===0&&!g||g.length%2!==0)&&(h=h.replace(/'/g,'"'));try{o=JSON.parse(h),u&&(o={...u,...o})}catch(k){return this.logger.warn(`failed parsing options string in nesting for key ${l}`,k),`${l}${f}${h}`}return o.defaultValue&&o.defaultValue.indexOf(this.prefix)>-1&&delete o.defaultValue,l};for(;i=this.nestingRegexp.exec(t);){let l=[];o={...r},o=o.replace&&!S(o.replace)?o.replace:o,o.applyPostProcessor=!1,delete o.defaultValue;const u=/{.*}/.test(i[1])?i[1].lastIndexOf("}")+1:i[1].indexOf(this.formatSeparator);if(u!==-1&&(l=i[1].slice(u).split(this.formatSeparator).map(f=>f.trim()).filter(Boolean),i[1]=i[1].slice(0,u)),s=n(a.call(this,i[1].trim(),o),o),s&&i[0]===t&&!S(s))return s;S(s)||(s=dn(s)),s||(this.logger.warn(`missed to resolve ${i[1]} for nesting ${t}`),s=""),l.length&&(s=l.reduce((f,d)=>this.format(f,d,r.lng,{...r,interpolationkey:i[1].trim()}),s.trim())),t=t.replace(i[0],s),this.regexp.lastIndex=0}return t}}const el=e=>{let t=e.toLowerCase().trim();const n={};if(e.indexOf("(")>-1){const r=e.split("(");t=r[0].toLowerCase().trim();const i=r[1].substring(0,r[1].length-1);t==="currency"&&i.indexOf(":")<0?n.currency||(n.currency=i.trim()):t==="relativetime"&&i.indexOf(":")<0?n.range||(n.range=i.trim()):i.split(";").forEach(o=>{if(o){const[a,...l]=o.split(":"),u=l.join(":").trim().replace(/^'+|'+$/g,""),f=a.trim();n[f]||(n[f]=u),u==="false"&&(n[f]=!1),u==="true"&&(n[f]=!0),isNaN(u)||(n[f]=parseInt(u,10))}})}return{formatName:t,formatOptions:n}},Pn=e=>{const t={};return(n,r,i)=>{let s=i;i&&i.interpolationkey&&i.formatParams&&i.formatParams[i.interpolationkey]&&i[i.interpolationkey]&&(s={...s,[i.interpolationkey]:void 0});const o=r+JSON.stringify(s);let a=t[o];return a||(a=e(we(r),i),t[o]=a),a(n)}},tl=e=>(t,n,r)=>e(we(n),r)(t);class nl{constructor(t={}){this.logger=G.create("formatter"),this.options=t,this.init(t)}init(t,n={interpolation:{}}){this.formatSeparator=n.interpolation.formatSeparator||",";const r=n.cacheInBuiltFormats?Pn:tl;this.formats={number:r((i,s)=>{const o=new Intl.NumberFormat(i,{...s});return a=>o.format(a)}),currency:r((i,s)=>{const o=new Intl.NumberFormat(i,{...s,style:"currency"});return a=>o.format(a)}),datetime:r((i,s)=>{const o=new Intl.DateTimeFormat(i,{...s});return a=>o.format(a)}),relativetime:r((i,s)=>{const o=new Intl.RelativeTimeFormat(i,{...s});return a=>o.format(a,s.range||"day")}),list:r((i,s)=>{const o=new Intl.ListFormat(i,{...s});return a=>o.format(a)})}}add(t,n){this.formats[t.toLowerCase().trim()]=n}addCached(t,n){this.formats[t.toLowerCase().trim()]=Pn(n)}format(t,n,r,i={}){const s=n.split(this.formatSeparator);if(s.length>1&&s[0].indexOf("(")>1&&s[0].indexOf(")")<0&&s.find(a=>a.indexOf(")")>-1)){const a=s.findIndex(l=>l.indexOf(")")>-1);s[0]=[s[0],...s.splice(1,a)].join(this.formatSeparator)}return s.reduce((a,l)=>{const{formatName:u,formatOptions:f}=el(l);if(this.formats[u]){let d=a;try{const h=i?.formatParams?.[i.interpolationkey]||{},p=h.locale||h.lng||i.locale||i.lng||r;d=this.formats[u](a,p,{...f,...i,...h})}catch(h){this.logger.warn(h)}return d}else this.logger.warn(`there was no format function for ${u}`);return a},t)}}const rl=(e,t)=>{e.pending[t]!==void 0&&(delete e.pending[t],e.pendingCount--)};class il extends Ue{constructor(t,n,r,i={}){super(),this.backend=t,this.store=n,this.services=r,this.languageUtils=r.languageUtils,this.options=i,this.logger=G.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=i.maxParallelReads||10,this.readingCalls=0,this.maxRetries=i.maxRetries>=0?i.maxRetries:5,this.retryTimeout=i.retryTimeout>=1?i.retryTimeout:350,this.state={},this.queue=[],this.backend?.init?.(r,i.backend,i)}queueLoad(t,n,r,i){const s={},o={},a={},l={};return t.forEach(u=>{let f=!0;n.forEach(d=>{const h=`${u}|${d}`;!r.reload&&this.store.hasResourceBundle(u,d)?this.state[h]=2:this.state[h]<0||(this.state[h]===1?o[h]===void 0&&(o[h]=!0):(this.state[h]=1,f=!1,o[h]===void 0&&(o[h]=!0),s[h]===void 0&&(s[h]=!0),l[d]===void 0&&(l[d]=!0)))}),f||(a[u]=!0)}),(Object.keys(s).length||Object.keys(o).length)&&this.queue.push({pending:o,pendingCount:Object.keys(o).length,loaded:{},errors:[],callback:i}),{toLoad:Object.keys(s),pending:Object.keys(o),toLoadLanguages:Object.keys(a),toLoadNamespaces:Object.keys(l)}}loaded(t,n,r){const i=t.split("|"),s=i[0],o=i[1];n&&this.emit("failedLoading",s,o,n),!n&&r&&this.store.addResourceBundle(s,o,r,void 0,void 0,{skipCopy:!0}),this.state[t]=n?-1:2,n&&r&&(this.state[t]=0);const a={};this.queue.forEach(l=>{Ba(l.loaded,[s],o),rl(l,t),n&&l.errors.push(n),l.pendingCount===0&&!l.done&&(Object.keys(l.loaded).forEach(u=>{a[u]||(a[u]={});const f=l.loaded[u];f.length&&f.forEach(d=>{a[u][d]===void 0&&(a[u][d]=!0)})}),l.done=!0,l.errors.length?l.callback(l.errors):l.callback())}),this.emit("loaded",a),this.queue=this.queue.filter(l=>!l.done)}read(t,n,r,i=0,s=this.retryTimeout,o){if(!t.length)return o(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:t,ns:n,fcName:r,tried:i,wait:s,callback:o});return}this.readingCalls++;const a=(u,f)=>{if(this.readingCalls--,this.waitingReads.length>0){const d=this.waitingReads.shift();this.read(d.lng,d.ns,d.fcName,d.tried,d.wait,d.callback)}if(u&&f&&i<this.maxRetries){setTimeout(()=>{this.read.call(this,t,n,r,i+1,s*2,o)},s);return}o(u,f)},l=this.backend[r].bind(this.backend);if(l.length===2){try{const u=l(t,n);u&&typeof u.then=="function"?u.then(f=>a(null,f)).catch(a):a(null,u)}catch(u){a(u)}return}return l(t,n,a)}prepareLoading(t,n,r={},i){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();S(t)&&(t=this.languageUtils.toResolveHierarchy(t)),S(n)&&(n=[n]);const s=this.queueLoad(t,n,r,i);if(!s.toLoad.length)return s.pending.length||i(),null;s.toLoad.forEach(o=>{this.loadOne(o)})}load(t,n,r){this.prepareLoading(t,n,{},r)}reload(t,n,r){this.prepareLoading(t,n,{reload:!0},r)}loadOne(t,n=""){const r=t.split("|"),i=r[0],s=r[1];this.read(i,s,"read",void 0,void 0,(o,a)=>{o&&this.logger.warn(`${n}loading namespace ${s} for language ${i} failed`,o),!o&&a&&this.logger.log(`${n}loaded namespace ${s} for language ${i}`,a),this.loaded(t,o,a)})}saveMissing(t,n,r,i,s,o={},a=()=>{}){if(this.services?.utils?.hasLoadedNamespace&&!this.services?.utils?.hasLoadedNamespace(n)){this.logger.warn(`did not save key "${r}" as the namespace "${n}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(r==null||r==="")){if(this.backend?.create){const l={...o,isUpdate:s},u=this.backend.create.bind(this.backend);if(u.length<6)try{let f;u.length===5?f=u(t,n,r,i,l):f=u(t,n,r,i),f&&typeof f.then=="function"?f.then(d=>a(null,d)).catch(a):a(null,f)}catch(f){a(f)}else u(t,n,r,i,a,l)}!t||!t[0]||this.store.addResource(t[0],n,r,i)}}}const Cn=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:e=>{let t={};if(typeof e[1]=="object"&&(t=e[1]),S(e[1])&&(t.defaultValue=e[1]),S(e[2])&&(t.tDescription=e[2]),typeof e[2]=="object"||typeof e[3]=="object"){const n=e[3]||e[2];Object.keys(n).forEach(r=>{t[r]=n[r]})}return t},interpolation:{escapeValue:!0,format:e=>e,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),vn=e=>(S(e.ns)&&(e.ns=[e.ns]),S(e.fallbackLng)&&(e.fallbackLng=[e.fallbackLng]),S(e.fallbackNS)&&(e.fallbackNS=[e.fallbackNS]),e.supportedLngs?.indexOf?.("cimode")<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),typeof e.initImmediate=="boolean"&&(e.initAsync=e.initImmediate),e),Re=()=>{},sl=e=>{Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach(n=>{typeof e[n]=="function"&&(e[n]=e[n].bind(e))})};class xe extends Ue{constructor(t={},n){if(super(),this.options=vn(t),this.services={},this.logger=G,this.modules={external:[]},sl(this),n&&!this.isInitialized&&!t.isClone){if(!this.options.initAsync)return this.init(t,n),this;setTimeout(()=>{this.init(t,n)},0)}}init(t={},n){this.isInitializing=!0,typeof t=="function"&&(n=t,t={}),t.defaultNS==null&&t.ns&&(S(t.ns)?t.defaultNS=t.ns:t.ns.indexOf("translation")<0&&(t.defaultNS=t.ns[0]));const r=Cn();this.options={...r,...this.options,...vn(t)},this.options.interpolation={...r.interpolation,...this.options.interpolation},t.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=t.keySeparator),t.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=t.nsSeparator);const i=u=>u?typeof u=="function"?new u:u:null;if(!this.options.isClone){this.modules.logger?G.init(i(this.modules.logger),this.options):G.init(null,this.options);let u;this.modules.formatter?u=this.modules.formatter:u=nl;const f=new bn(this.options);this.store=new mn(this.options.resources,this.options);const d=this.services;d.logger=G,d.resourceStore=this.store,d.languageUtils=f,d.pluralResolver=new Qa(f,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==r.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),u&&(!this.options.interpolation.format||this.options.interpolation.format===r.interpolation.format)&&(d.formatter=i(u),d.formatter.init&&d.formatter.init(d,this.options),this.options.interpolation.format=d.formatter.format.bind(d.formatter)),d.interpolator=new Xa(this.options),d.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},d.backendConnector=new il(i(this.modules.backend),d.resourceStore,d,this.options),d.backendConnector.on("*",(p,...g)=>{this.emit(p,...g)}),this.modules.languageDetector&&(d.languageDetector=i(this.modules.languageDetector),d.languageDetector.init&&d.languageDetector.init(d,this.options.detection,this.options)),this.modules.i18nFormat&&(d.i18nFormat=i(this.modules.i18nFormat),d.i18nFormat.init&&d.i18nFormat.init(this)),this.translator=new _e(this.services,this.options),this.translator.on("*",(p,...g)=>{this.emit(p,...g)}),this.modules.external.forEach(p=>{p.init&&p.init(this)})}if(this.format=this.options.interpolation.format,n||(n=Re),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const u=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);u.length>0&&u[0]!=="dev"&&(this.options.lng=u[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(u=>{this[u]=(...f)=>this.store[u](...f)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(u=>{this[u]=(...f)=>(this.store[u](...f),this)});const a=he(),l=()=>{const u=(f,d)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),a.resolve(d),n(f,d)};if(this.languages&&!this.isInitialized)return u(null,this.t.bind(this));this.changeLanguage(this.options.lng,u)};return this.options.resources||!this.options.initAsync?l():setTimeout(l,0),a}loadResources(t,n=Re){let r=n;const i=S(t)?t:this.language;if(typeof t=="function"&&(r=t),!this.options.resources||this.options.partialBundledLanguages){if(i?.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return r();const s=[],o=a=>{if(!a||a==="cimode")return;this.services.languageUtils.toResolveHierarchy(a).forEach(u=>{u!=="cimode"&&s.indexOf(u)<0&&s.push(u)})};i?o(i):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(l=>o(l)),this.options.preload?.forEach?.(a=>o(a)),this.services.backendConnector.load(s,this.options.ns,a=>{!a&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),r(a)})}else r(null)}reloadResources(t,n,r){const i=he();return typeof t=="function"&&(r=t,t=void 0),typeof n=="function"&&(r=n,n=void 0),t||(t=this.languages),n||(n=this.options.ns),r||(r=Re),this.services.backendConnector.reload(t,n,s=>{i.resolve(),r(s)}),i}use(t){if(!t)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!t.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return t.type==="backend"&&(this.modules.backend=t),(t.type==="logger"||t.log&&t.warn&&t.error)&&(this.modules.logger=t),t.type==="languageDetector"&&(this.modules.languageDetector=t),t.type==="i18nFormat"&&(this.modules.i18nFormat=t),t.type==="postProcessor"&&Jr.addPostProcessor(t),t.type==="formatter"&&(this.modules.formatter=t),t.type==="3rdParty"&&this.modules.external.push(t),this}setResolvedLanguage(t){if(!(!t||!this.languages)&&!(["cimode","dev"].indexOf(t)>-1)){for(let n=0;n<this.languages.length;n++){const r=this.languages[n];if(!(["cimode","dev"].indexOf(r)>-1)&&this.store.hasLanguageSomeTranslations(r)){this.resolvedLanguage=r;break}}!this.resolvedLanguage&&this.languages.indexOf(t)<0&&this.store.hasLanguageSomeTranslations(t)&&(this.resolvedLanguage=t,this.languages.unshift(t))}}changeLanguage(t,n){this.isLanguageChangingTo=t;const r=he();this.emit("languageChanging",t);const i=a=>{this.language=a,this.languages=this.services.languageUtils.toResolveHierarchy(a),this.resolvedLanguage=void 0,this.setResolvedLanguage(a)},s=(a,l)=>{l?this.isLanguageChangingTo===t&&(i(l),this.translator.changeLanguage(l),this.isLanguageChangingTo=void 0,this.emit("languageChanged",l),this.logger.log("languageChanged",l)):this.isLanguageChangingTo=void 0,r.resolve((...u)=>this.t(...u)),n&&n(a,(...u)=>this.t(...u))},o=a=>{!t&&!a&&this.services.languageDetector&&(a=[]);const l=S(a)?a:a&&a[0],u=this.store.hasLanguageSomeTranslations(l)?l:this.services.languageUtils.getBestMatchFromCodes(S(a)?[a]:a);u&&(this.language||i(u),this.translator.language||this.translator.changeLanguage(u),this.services.languageDetector?.cacheUserLanguage?.(u)),this.loadResources(u,f=>{s(f,u)})};return!t&&this.services.languageDetector&&!this.services.languageDetector.async?o(this.services.languageDetector.detect()):!t&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(o):this.services.languageDetector.detect(o):o(t),r}getFixedT(t,n,r){const i=(s,o,...a)=>{let l;typeof o!="object"?l=this.options.overloadTranslationOptionHandler([s,o].concat(a)):l={...o},l.lng=l.lng||i.lng,l.lngs=l.lngs||i.lngs,l.ns=l.ns||i.ns,l.keyPrefix!==""&&(l.keyPrefix=l.keyPrefix||r||i.keyPrefix);const u=this.options.keySeparator||".";let f;return l.keyPrefix&&Array.isArray(s)?f=s.map(d=>(typeof d=="function"&&(d=ut(d,{...this.options,...o})),`${l.keyPrefix}${u}${d}`)):(typeof s=="function"&&(s=ut(s,{...this.options,...o})),f=l.keyPrefix?`${l.keyPrefix}${u}${s}`:s),this.t(f,l)};return S(t)?i.lng=t:i.lngs=t,i.ns=n,i.keyPrefix=r,i}t(...t){return this.translator?.translate(...t)}exists(...t){return this.translator?.exists(...t)}setDefaultNamespace(t){this.options.defaultNS=t}hasLoadedNamespace(t,n={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const r=n.lng||this.resolvedLanguage||this.languages[0],i=this.options?this.options.fallbackLng:!1,s=this.languages[this.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const o=(a,l)=>{const u=this.services.backendConnector.state[`${a}|${l}`];return u===-1||u===0||u===2};if(n.precheck){const a=n.precheck(this,o);if(a!==void 0)return a}return!!(this.hasResourceBundle(r,t)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||o(r,t)&&(!i||o(s,t)))}loadNamespaces(t,n){const r=he();return this.options.ns?(S(t)&&(t=[t]),t.forEach(i=>{this.options.ns.indexOf(i)<0&&this.options.ns.push(i)}),this.loadResources(i=>{r.resolve(),n&&n(i)}),r):(n&&n(),Promise.resolve())}loadLanguages(t,n){const r=he();S(t)&&(t=[t]);const i=this.options.preload||[],s=t.filter(o=>i.indexOf(o)<0&&this.services.languageUtils.isSupportedCode(o));return s.length?(this.options.preload=i.concat(s),this.loadResources(o=>{r.resolve(),n&&n(o)}),r):(n&&n(),Promise.resolve())}dir(t){if(t||(t=this.resolvedLanguage||(this.languages?.length>0?this.languages[0]:this.language)),!t)return"rtl";try{const i=new Intl.Locale(t);if(i&&i.getTextInfo){const s=i.getTextInfo();if(s&&s.direction)return s.direction}}catch{}const n=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],r=this.services?.languageUtils||new bn(Cn());return t.toLowerCase().indexOf("-latn")>1?"ltr":n.indexOf(r.getLanguagePartFromCode(t))>-1||t.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(t={},n){return new xe(t,n)}cloneInstance(t={},n=Re){const r=t.forkResourceStore;r&&delete t.forkResourceStore;const i={...this.options,...t,isClone:!0},s=new xe(i);if((t.debug!==void 0||t.prefix!==void 0)&&(s.logger=s.logger.clone(t)),["store","services","language"].forEach(a=>{s[a]=this[a]}),s.services={...this.services},s.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)},r){const a=Object.keys(this.store.data).reduce((l,u)=>(l[u]={...this.store.data[u]},l[u]=Object.keys(l[u]).reduce((f,d)=>(f[d]={...l[u][d]},f),l[u]),l),{});s.store=new mn(a,i),s.services.resourceStore=s.store}return s.translator=new _e(s.services,i),s.translator.on("*",(a,...l)=>{s.emit(a,...l)}),s.init(i,n),s.translator.options=i,s.translator.backendConnector.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)},s}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const _=xe.createInstance();_.createInstance=xe.createInstance;_.createInstance;_.dir;_.init;_.loadResources;_.reloadResources;_.use;_.changeLanguage;_.getFixedT;_.t;_.exists;_.setDefaultNamespace;_.hasLoadedNamespace;_.loadNamespaces;_.loadLanguages;const ol=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,al={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"Â©","&#169;":"Â©","&reg;":"Â®","&#174;":"Â®","&hellip;":"â€¦","&#8230;":"â€¦","&#x2F;":"/","&#47;":"/"},ll=e=>al[e],ul=e=>e.replace(ol,ll);let ct={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:ul};const cl=(e={})=>{ct={...ct,...e}},zl=()=>ct;let qr;const fl=e=>{qr=e},Ul=()=>qr,dl={type:"3rdParty",init(e){cl(e.options.react),fl(e)}},hl={about:"Ãœber uns",work:"Projekte",contact:"Kontakt"},gl={title:"Software-Entwickler",titleLine2:"& Architekten",description:"Entwicklung skalierbarer Systeme und eleganter LÃ¶sungen mit Fokus auf sauberer Architektur und Benutzererfahrung.",cta:"Kontakt aufnehmen"},pl={title:"Ãœber uns",description1:"Wir sind ein Netzwerk aus Full-Stack-Entwicklern und Software-Architekten mit Spezialisierung auf Unternehmensanwendungen und Cloud-native LÃ¶sungen. Mit umfangreicher Erfahrung in verschiedenen Technologie-Stacks entwickeln wir skalierbare Systeme, die echten GeschÃ¤ftswert schaffen.",description2:"Unsere Expertise umfasst Backend-Services in Java, Kotlin und .NET sowie moderne Frontend-Anwendungen mit React und JavaScript. Wir fokussieren uns auf wartbare Architekturen, Datenbankoptimierung und die Nutzung von Cloud-Infrastruktur fÃ¼r robuste, produktionsreife LÃ¶sungen.",skillsTitle:"Kernkompetenzen",skills:{fullstack:"Full-stack Entwicklung (Frontend & Backend)",backend:"Java, Kotlin, .NET, .NET Core",frontend:"JavaScript, TypeScript, React",architecture:"System-Architektur & Design",cloud:"Cloud-Infrastruktur (Azure, GCP)",devops:"Docker, Kubernetes, CI/CD",database:"Datenbankdesign & Optimierung"}},ml={title:"Projekte",blogTitle:"Erfahren Sie mehr Ã¼ber aktuelle Projekte in unserem Blog.",blogLink:"Zum Blog",projects:{enterprise:{title:"Enterprise-SoftwarelÃ¶sungen",description:"Entwicklung und Wartung groÃŸer Unternehmensanwendungen einschlieÃŸlich ERP-Systemen, E-Commerce-Plattformen und Finanzdienstleistungsanwendungen. Leitung der Migration von Legacy-ERP-Software zu moderner Cloud-basierter Architektur mit verbesserter Systemleistung und Einhaltung regulatorischer Anforderungen."},cloud:{title:"Cloud-Infrastruktur & SaaS-Plattform-Betrieb",description:"Architektur und Wartung Cloud-nativer LÃ¶sungen auf Azure und GCP mit containerisierten Microservices mittels Docker und Kubernetes. Aufbau von CI/CD-Pipelines, Monitoring-Systemen und automatisierten Skalierungsstrategien fÃ¼r Produktionsumgebungen. VollstÃ¤ndige Verantwortung fÃ¼r SaaS-Anwendungsbetrieb inklusive Deployment, Incident Response und kontinuierlicher Optimierung zur GewÃ¤hrleistung hoher VerfÃ¼gbarkeit, Sicherheit und Performance."}}},yl={title:"Lassen Sie uns zusammenarbeiten",description:"Wir sind immer an neuen Projekten und MÃ¶glichkeiten interessiert. Ob Sie eine Frage haben oder einfach nur Hallo sagen mÃ¶chten, zÃ¶gern Sie nicht, uns zu kontaktieren."},bl={rights:"Alle Rechte vorbehalten.",privacy:"DatenschutzerklÃ¤rung",imprint:"Impressum"},wl={title:"DatenschutzerklÃ¤rung",intro:"Diese DatenschutzerklÃ¤rung erklÃ¤rt, wie wir Ihre personenbezogenen Daten erfassen, verwenden und schÃ¼tzen, wenn Sie diese Website besuchen.",section1:{title:"1. Verantwortlicher",content:`Verantwortlich fÃ¼r die Datenverarbeitung auf dieser Website:

Moritz Hilberg

Email: hilberg.it@posteo.de`},section2:{title:"2. Datenerfassung und Verwendung",content:`Diese Website ist eine statische Portfolio-Seite. Wir erfassen oder speichern nicht aktiv personenbezogene Daten. Wenn Sie diese Website besuchen, Ã¼bermittelt Ihr Browser automatisch bestimmte Daten an unseren Server, einschlieÃŸlich:

â€¢ IP-Adresse
â€¢ Browsertyp und -version
â€¢ Betriebssystem
â€¢ Referrer-URL
â€¢ Datum und Uhrzeit des Zugriffs

Diese Daten werden aus technischen GrÃ¼nden erfasst und sind fÃ¼r das ordnungsgemÃ¤ÃŸe Funktionieren der Website erforderlich. Sie werden nach kurzer Zeit automatisch gelÃ¶scht.`},section3:{title:"3. Cookies",content:"Diese Website verwendet ein Cookie, um Ihre SprachprÃ¤ferenz (Deutsch oder Englisch) zu speichern. Dieses Cookie enthÃ¤lt keine persÃ¶nlichen Informationen und wird lokal in Ihrem Browser gespeichert. Sie kÃ¶nnen dieses Cookie jederzeit Ã¼ber Ihre Browsereinstellungen lÃ¶schen."},section4:{title:"4. Dienste Dritter",content:"Diese Website lÃ¤dt mÃ¶glicherweise Schriftarten von Google Fonts. Beim Laden von Schriftarten kann Ihr Browser Ihre IP-Adresse an Google Ã¼bermitteln. Weitere Informationen finden Sie in der DatenschutzerklÃ¤rung von Google unter https://policies.google.com/privacy?hl=de"},section5:{title:"5. Ihre Rechte",content:`GemÃ¤ÃŸ DSGVO haben Sie folgende Rechte:

â€¢ Recht auf Auskunft Ã¼ber Ihre personenbezogenen Daten
â€¢ Recht auf Berichtigung unrichtiger Daten
â€¢ Recht auf LÃ¶schung ('Recht auf Vergessenwerden')
â€¢ Recht auf EinschrÃ¤nkung der Verarbeitung
â€¢ Recht auf DatenÃ¼bertragbarkeit
â€¢ Widerspruchsrecht gegen die Verarbeitung

Zur AusÃ¼bung dieser Rechte kontaktieren Sie uns bitte Ã¼ber die oben angegebenen Kontaktdaten.`},section6:{title:"6. Datensicherheit",content:"Wir treffen angemessene technische und organisatorische MaÃŸnahmen, um Ihre Daten vor unbefugtem Zugriff, Verlust oder Manipulation zu schÃ¼tzen."},section7:{title:"7. Ã„nderungen dieser DatenschutzerklÃ¤rung",content:"Wir behalten uns das Recht vor, diese DatenschutzerklÃ¤rung zu aktualisieren, um Ã„nderungen in unseren Praktiken oder gesetzlichen Anforderungen widerzuspiegeln. Die aktuelle Version ist immer auf dieser Seite verfÃ¼gbar."},lastUpdated:"Stand: Januar 2025"},xl={title:"Impressum",subtitle:"Angaben gemÃ¤ÃŸ Â§ 5 TMG",operator:{title:"Betreiber der Website",content:`Moritz Hilberg
Alicestr. 11
64673 Zwingenberg
DE`},contact:{title:"Kontakt",email:"E-Mail",phone:"Telefon",emailValue:"[ihre.email@beispiel.de]",phoneValue:"[Ihre Telefonnummer]"},vat:{title:"Umsatzsteuer-ID",content:`Umsatzsteuer-Identifikationsnummer gemÃ¤ÃŸ Â§ 27a Umsatzsteuergesetz:
[Ihre USt-IdNr. falls zutreffend, ansonsten diesen Abschnitt entfernen]`},responsible:{title:"Verantwortlich fÃ¼r den Inhalt",content:`Verantwortlich fÃ¼r den Inhalt nach Â§ 55 Abs. 2 RStV:

[Ihr vollstÃ¤ndiger Name]
[Ihre StraÃŸe und Hausnummer]
[Ihre Postleitzahl und Stadt]`},disclaimer:{title:"Haftungsausschluss",content1:{title:"Haftung fÃ¼r Inhalte",text:"Als Diensteanbieter sind wir gemÃ¤ÃŸ Â§ 7 Abs.1 TMG fÃ¼r eigene Inhalte auf diesen Seiten nach den allgemeinen Gesetzen verantwortlich. Nach Â§Â§ 8 bis 10 TMG sind wir als Diensteanbieter jedoch nicht verpflichtet, Ã¼bermittelte oder gespeicherte fremde Informationen zu Ã¼berwachen oder nach UmstÃ¤nden zu forschen, die auf eine rechtswidrige TÃ¤tigkeit hinweisen. Verpflichtungen zur Entfernung oder Sperrung der Nutzung von Informationen nach den allgemeinen Gesetzen bleiben hiervon unberÃ¼hrt."},content2:{title:"Haftung fÃ¼r Links",text:"Unser Angebot enthÃ¤lt Links zu externen Websites Dritter, auf deren Inhalte wir keinen Einfluss haben. Deshalb kÃ¶nnen wir fÃ¼r diese fremden Inhalte auch keine GewÃ¤hr Ã¼bernehmen. FÃ¼r die Inhalte der verlinkten Seiten ist stets der jeweilige Anbieter oder Betreiber der Seiten verantwortlich."},content3:{title:"Urheberrecht",text:"Die durch die Seitenbetreiber erstellten Inhalte und Werke auf diesen Seiten unterliegen dem deutschen Urheberrecht. Die VervielfÃ¤ltigung, Bearbeitung, Verbreitung und jede Art der Verwertung auÃŸerhalb der Grenzen des Urheberrechtes bedÃ¼rfen der schriftlichen Zustimmung des jeweiligen Autors bzw. Erstellers."}}},Sl={nav:hl,hero:gl,about:pl,work:ml,contact:yl,footer:bl,privacy:wl,imprint:xl},Pl={about:"About Us",work:"Work",contact:"Contact"},Cl={title:"Software Developers",titleLine2:"& Architects",description:"Building scalable systems and elegant solutions with a focus on clean architecture and user experience.",cta:"Get in touch"},vl={title:"About Us",description1:"We are a network of full-stack developers and software architects specializing in enterprise applications and cloud-native solutions. With extensive experience across multiple technology stacks, we excel at designing and implementing scalable systems that drive business value.",description2:"Our expertise spans from backend services in Java, Kotlin, and .NET to modern frontend applications with React and JavaScript. We focus on building maintainable architectures, optimizing database performance, and leveraging cloud infrastructure to deliver robust, production-ready solutions.",skillsTitle:"Core Expertise",skills:{fullstack:"Full-stack Development (Frontend & Backend)",backend:"Java, Kotlin, .NET, .NET Core",frontend:"JavaScript, TypeScript, React",architecture:"System Architecture & Design",cloud:"Cloud Infrastructure (Azure, GCP)",devops:"Docker, Kubernetes, CI/CD",database:"Database Design & Optimization"}},kl={title:"Professional Experience",blogTitle:"Learn more about current projects in our blog.",blogLink:"To Blog",projects:{enterprise:{title:"Enterprise Software Solutions",description:"Developed and maintained large-scale enterprise applications including ERP systems, e-commerce platforms, and financial services applications. Led the migration of legacy ERP software to modern cloud-based architecture, improving system performance and ensuring regulatory compliance across all platforms."},cloud:{title:"Cloud Infrastructure & SaaS Platform Operations",description:"Architecture and maintenance of cloud-native solutions on Azure and GCP with containerized microservices using Docker and Kubernetes. Building CI/CD pipelines, monitoring systems, and automated scaling strategies for production environments. Full responsibility for SaaS application operations including deployment, incident response, and continuous optimization to ensure high availability, security, and performance."}}},Rl={title:"Let's Work Together",description:"We are always interested in hearing about new projects and opportunities. Whether you have a question or just want to say hi, feel free to reach out."},Ol={rights:"All rights reserved.",privacy:"Privacy Policy",imprint:"Imprint"},El={title:"Privacy Policy",intro:"This privacy policy explains how we collect, use, and protect your personal data when you visit this website.",section1:{title:"1. Data Controller",content:`Responsible for data processing on this website:

Moritz Hilberg

Email: hilberg.it@posteo.de`},section2:{title:"2. Data Collection and Usage",content:`This website is a static portfolio site. We do not actively collect or store personal data. When you visit this website, your browser automatically transmits certain data to our server, including:

â€¢ IP address
â€¢ Browser type and version
â€¢ Operating system
â€¢ Referrer URL
â€¢ Date and time of access

This data is collected for technical reasons and is necessary for the proper functioning of the website. It is automatically deleted after a short period.`},section3:{title:"3. Cookies",content:"This website uses a cookie to store your language preference (English or German). This cookie does not contain any personal information and is stored locally in your browser. You can delete this cookie at any time through your browser settings."},section4:{title:"4. Third-Party Services",content:"This website may load fonts from Google Fonts. When loading fonts, your browser may transmit your IP address to Google. For more information, please see Google's privacy policy at https://policies.google.com/privacy"},section5:{title:"5. Your Rights",content:`Under the GDPR, you have the following rights:

â€¢ Right to access your personal data
â€¢ Right to rectification of inaccurate data
â€¢ Right to erasure ('right to be forgotten')
â€¢ Right to restriction of processing
â€¢ Right to data portability
â€¢ Right to object to processing

To exercise these rights, please contact us using the contact details provided above.`},section6:{title:"6. Data Security",content:"We take appropriate technical and organizational measures to protect your data against unauthorized access, loss, or manipulation."},section7:{title:"7. Changes to This Privacy Policy",content:"We reserve the right to update this privacy policy to reflect changes in our practices or legal requirements. The current version is always available on this page."},lastUpdated:"Last updated: January 2025"},$l={title:"Imprint",subtitle:"Information according to Â§ 5 TMG (German Telemedia Act)",operator:{title:"Website Operator",content:`Moritz Hilberg
Alicestr. 11
64673 Zwingenberg
DE`},contact:{title:"Contact",email:"Email",phone:"Phone",emailValue:"[your.email@example.com]",phoneValue:"[Your Phone Number]"},vat:{title:"VAT ID",content:`VAT identification number according to Â§ 27a VAT Tax Act:
[Your VAT ID if applicable, otherwise remove this section]`},responsible:{title:"Responsible for Content",content:`Responsible for content according to Â§ 55 Abs. 2 RStV:

[Your Full Name]
[Your Street Address]
[Your Postal Code and City]`},disclaimer:{title:"Liability Disclaimer",content1:{title:"Liability for Content",text:"As a service provider, we are responsible for our own content on these pages in accordance with general laws. However, we are not obligated to monitor transmitted or stored third-party information or to investigate circumstances that indicate illegal activity. Obligations to remove or block the use of information under general laws remain unaffected."},content2:{title:"Liability for Links",text:"Our website contains links to external third-party websites over whose content we have no influence. Therefore, we cannot assume any liability for this external content. The respective provider or operator of the pages is always responsible for the content of the linked pages."},content3:{title:"Copyright",text:"The content and works on these pages created by the site operator are subject to German copyright law. The reproduction, editing, distribution, and any kind of use outside the limits of copyright require the written consent of the respective author or creator."}}},Tl={nav:Pl,hero:Cl,about:vl,work:kl,contact:Rl,footer:Ol,privacy:El,imprint:$l};_.use(dl).init({resources:{de:{translation:Sl},en:{translation:Tl}},fallbackLng:"de",interpolation:{escapeValue:!1}});const Gl=["de","en"];export{zl as a,Mo as b,Ni as c,jl as d,Ia as e,_r as f,Ul as g,Dl as h,_ as i,Vl as j,ka as k,Nl as l,c as m,Bl as n,Hl as o,Il as p,We as q,ln as r,$a as s,Fl as t,Zn as u,Al as v,Gl as w,Lr as x,Ll as y,_l as z};
